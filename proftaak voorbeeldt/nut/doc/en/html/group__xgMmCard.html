<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
    <title>Nut/OS API</title>
    <link href="nut_en.css" rel="stylesheet" type="text/css">
</head>
<body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.4.4 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a> | <a class="qindex" href="examples.html">Examples</a></div>
<h1>Multimedia Card Driver<br>
<small>
[<a class="el" href="group__xgDriver.html">Device Driver API.</a>,&nbsp;<a class="el" href="group__xgBlockDev.html">Block Devices</a>]</small>
</h1>
<p>
Collaboration diagram for Multimedia Card Driver:<center><table><tr><td><img src="group__xgMmCard.png" border="0" alt="" usemap="#group____xgMmCard_map">
<map name="group____xgMmCard_map">
<area href="group__xgDriver.html" shape="rect" coords="17,6,129,27" alt="">
<area href="group__xgBlockDev.html" shape="rect" coords="27,51,120,72" alt="">
</map></td></tr></table></center>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Block device driver for MM/SD Cards. 
<p>

<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__MMCIFC.html">_MMCIFC</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Low level access information structure.  <a href="struct__MMCIFC.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__MMCFCB.html">_MMCFCB</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Local multimedia card mount information.  <a href="struct__MMCFCB.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga19"></a><!-- doxytag: member="xgMmCard::MMCMD_HOST" ref="ga19" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MMCMD_HOST</b>&nbsp;&nbsp;&nbsp;0x40</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga20"></a><!-- doxytag: member="xgMmCard::MMCMD_RESET_CRC" ref="ga20" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MMCMD_RESET_CRC</b>&nbsp;&nbsp;&nbsp;0x95</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga21">MMCMD_GO_IDLE_STATE</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reset card to idle state.  <a href="#ga21"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga22"></a><!-- doxytag: member="xgMmCard::MMCMD_SEND_OP_COND" ref="ga22" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga22">MMCMD_SEND_OP_COND</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Activate card's initialization process. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga23">MMCMD_ALL_SEND_CID</a>&nbsp;&nbsp;&nbsp;2</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send operation condition register.  <a href="#ga23"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga24"></a><!-- doxytag: member="xgMmCard::MMCMD_SEND_RELATIVE_ADDR" ref="ga24" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga24">MMCMD_SEND_RELATIVE_ADDR</a>&nbsp;&nbsp;&nbsp;3</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Assign relative card address. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga25"></a><!-- doxytag: member="xgMmCard::MMCMD_SELECT_CARD" ref="ga25" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga25">MMCMD_SELECT_CARD</a>&nbsp;&nbsp;&nbsp;7</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Assign relative card address. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga26"></a><!-- doxytag: member="xgMmCard::MMCMD_SEND_CSD" ref="ga26" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga26">MMCMD_SEND_CSD</a>&nbsp;&nbsp;&nbsp;9</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Query card's CSD. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga27"></a><!-- doxytag: member="xgMmCard::MMCMD_SEND_CID" ref="ga27" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga27">MMCMD_SEND_CID</a>&nbsp;&nbsp;&nbsp;10</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Query card's CID. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga28"></a><!-- doxytag: member="xgMmCard::MMCMD_STOP_TRANSMISSION" ref="ga28" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga28">MMCMD_STOP_TRANSMISSION</a>&nbsp;&nbsp;&nbsp;12</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Stop multiple block transmission. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga29"></a><!-- doxytag: member="xgMmCard::MMCMD_SEND_STATUS" ref="ga29" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga29">MMCMD_SEND_STATUS</a>&nbsp;&nbsp;&nbsp;13</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Query card's status register. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga30"></a><!-- doxytag: member="xgMmCard::MMCMD_SET_BLOCKLEN" ref="ga30" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga30">MMCMD_SET_BLOCKLEN</a>&nbsp;&nbsp;&nbsp;16</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Select block length for following read/write commands. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga31"></a><!-- doxytag: member="xgMmCard::MMCMD_READ_SINGLE_BLOCK" ref="ga31" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga31">MMCMD_READ_SINGLE_BLOCK</a>&nbsp;&nbsp;&nbsp;17</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initiate single block read. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga32"></a><!-- doxytag: member="xgMmCard::MMCMD_READ_MULTIPLE_BLOCK" ref="ga32" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga32">MMCMD_READ_MULTIPLE_BLOCK</a>&nbsp;&nbsp;&nbsp;18</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initiate continuous block read. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga33"></a><!-- doxytag: member="xgMmCard::MMCMD_WRITE_BLOCK" ref="ga33" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga33">MMCMD_WRITE_BLOCK</a>&nbsp;&nbsp;&nbsp;24</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initiate single block write. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga34"></a><!-- doxytag: member="xgMmCard::MMCMD_WRITE_MULTIPLE_BLOCK" ref="ga34" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga34">MMCMD_WRITE_MULTIPLE_BLOCK</a>&nbsp;&nbsp;&nbsp;25</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initiate continuous block write. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga35"></a><!-- doxytag: member="xgMmCard::MMCMD_PROGRAM_CSD" ref="ga35" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga35">MMCMD_PROGRAM_CSD</a>&nbsp;&nbsp;&nbsp;27</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initiate programming of programmable CSD bits. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga36"></a><!-- doxytag: member="xgMmCard::MMCMD_SET_WRITE_PROTECT" ref="ga36" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga36">MMCMD_SET_WRITE_PROTECT</a>&nbsp;&nbsp;&nbsp;28</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enable card's optional write protection. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga37"></a><!-- doxytag: member="xgMmCard::MMCMD_CLR_WRITE_PROTECT" ref="ga37" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga37">MMCMD_CLR_WRITE_PROTECT</a>&nbsp;&nbsp;&nbsp;29</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Disable card's write protection. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga38"></a><!-- doxytag: member="xgMmCard::MMCMD_SEND_WRITE_PROTECT" ref="ga38" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga38">MMCMD_SEND_WRITE_PROTECT</a>&nbsp;&nbsp;&nbsp;30</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Query card's write protect status. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga39"></a><!-- doxytag: member="xgMmCard::MMCMD_TAG_ERASE_GROUP_START" ref="ga39" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga39">MMCMD_TAG_ERASE_GROUP_START</a>&nbsp;&nbsp;&nbsp;35</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set address of the first erase group. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga40"></a><!-- doxytag: member="xgMmCard::MMCMD_TAG_ERASE_GROUP_END" ref="ga40" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga40">MMCMD_TAG_ERASE_GROUP_END</a>&nbsp;&nbsp;&nbsp;36</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set address of the last erase group. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga41"></a><!-- doxytag: member="xgMmCard::MMCMD_ERASE" ref="ga41" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga41">MMCMD_ERASE</a>&nbsp;&nbsp;&nbsp;38</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Erase previously selected sectors. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga42"></a><!-- doxytag: member="xgMmCard::MMCMD_LOCK_UNLOCK" ref="ga42" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga42">MMCMD_LOCK_UNLOCK</a>&nbsp;&nbsp;&nbsp;42</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set/clear password or lock/unlock the card. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga43"></a><!-- doxytag: member="xgMmCard::MMCMD_READ_OCR" ref="ga43" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga43">MMCMD_READ_OCR</a>&nbsp;&nbsp;&nbsp;58</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Query card's operating condition register. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga44">MMCMD_CRC_ON_OFF</a>&nbsp;&nbsp;&nbsp;59</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enable or disable CRC mode.  <a href="#ga44"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga45"></a><!-- doxytag: member="xgMmCard::MMR1_IDLE_STATE" ref="ga45" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga45">MMR1_IDLE_STATE</a>&nbsp;&nbsp;&nbsp;0x00</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Card is idle. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga46"></a><!-- doxytag: member="xgMmCard::MMR1_NOT_IDLE" ref="ga46" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga46">MMR1_NOT_IDLE</a>&nbsp;&nbsp;&nbsp;0x01</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Card is busy. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga47"></a><!-- doxytag: member="xgMmCard::MMR1_ERASE_RESET" ref="ga47" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga47">MMR1_ERASE_RESET</a>&nbsp;&nbsp;&nbsp;0x02</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Erase sequence was cleared before execution. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga48"></a><!-- doxytag: member="xgMmCard::MMR1_ILLEGAL_COMMAND" ref="ga48" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga48">MMR1_ILLEGAL_COMMAND</a>&nbsp;&nbsp;&nbsp;0x04</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Illegal command code detected. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga49"></a><!-- doxytag: member="xgMmCard::MMR1_COM_CRC_ERROR" ref="ga49" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga49">MMR1_COM_CRC_ERROR</a>&nbsp;&nbsp;&nbsp;0x08</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Bad command CRC detected. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga50"></a><!-- doxytag: member="xgMmCard::MMR1_ERASE_SEQ_ERROR" ref="ga50" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga50">MMR1_ERASE_SEQ_ERROR</a>&nbsp;&nbsp;&nbsp;0x10</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Bad erase sequence. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga51"></a><!-- doxytag: member="xgMmCard::MMR1_ADDRESS_ERROR" ref="ga51" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga51">MMR1_ADDRESS_ERROR</a>&nbsp;&nbsp;&nbsp;0x20</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Misaligned address did not match block length. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga52"></a><!-- doxytag: member="xgMmCard::MMR1_PARAMETER_ERROR" ref="ga52" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga52">MMR1_PARAMETER_ERROR</a>&nbsp;&nbsp;&nbsp;0x40</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Command parameter is out of range. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga53"></a><!-- doxytag: member="xgMmCard::MMR2_CARD_LOCKED" ref="ga53" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga53">MMR2_CARD_LOCKED</a>&nbsp;&nbsp;&nbsp;0x01</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Card is locked. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga54"></a><!-- doxytag: member="xgMmCard::MMR2_WP_ERASE_SKIP" ref="ga54" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga54">MMR2_WP_ERASE_SKIP</a>&nbsp;&nbsp;&nbsp;0x02</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Erasing write protected sector or password error. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga55"></a><!-- doxytag: member="xgMmCard::MMR2_ERROR" ref="ga55" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga55">MMR2_ERROR</a>&nbsp;&nbsp;&nbsp;0x04</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">General or unknown error occured. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga56"></a><!-- doxytag: member="xgMmCard::MMR2_CC_ERROR" ref="ga56" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga56">MMR2_CC_ERROR</a>&nbsp;&nbsp;&nbsp;0x08</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal card controller error. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga57"></a><!-- doxytag: member="xgMmCard::MMR2_ECC_FAILED" ref="ga57" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga57">MMR2_ECC_FAILED</a>&nbsp;&nbsp;&nbsp;0x10</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Bad internal ECC. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga58"></a><!-- doxytag: member="xgMmCard::MMR2_WP_VIOLATION" ref="ga58" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga58">MMR2_WP_VIOLATION</a>&nbsp;&nbsp;&nbsp;0x20</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Failed to write to protected block. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga59"></a><!-- doxytag: member="xgMmCard::MMR2_ERASE_PARAMETER" ref="ga59" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga59">MMR2_ERASE_PARAMETER</a>&nbsp;&nbsp;&nbsp;0x40</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Invalid erase parameter. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga60"></a><!-- doxytag: member="xgMmCard::MMR2_OUT_OF_RANGE" ref="ga60" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga60">MMR2_OUT_OF_RANGE</a>&nbsp;&nbsp;&nbsp;0x80</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Command parameter is out of range. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga61"></a><!-- doxytag: member="xgMmCard::MMCSR_OUT_OF_RANGE" ref="ga61" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MMCSR_OUT_OF_RANGE</b>&nbsp;&nbsp;&nbsp;0x80000000</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga62"></a><!-- doxytag: member="xgMmCard::MMCSR_ADDRESS_ERROR" ref="ga62" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MMCSR_ADDRESS_ERROR</b>&nbsp;&nbsp;&nbsp;0x40000000</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga63"></a><!-- doxytag: member="xgMmCard::MMCSR_BLOCK_LEN_ERROR" ref="ga63" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MMCSR_BLOCK_LEN_ERROR</b>&nbsp;&nbsp;&nbsp;0x20000000</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga64"></a><!-- doxytag: member="xgMmCard::MMCSR_ERASE_SEQ_ERROR" ref="ga64" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MMCSR_ERASE_SEQ_ERROR</b>&nbsp;&nbsp;&nbsp;0x10000000</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga65"></a><!-- doxytag: member="xgMmCard::MMCSR_ERASE_PARAM" ref="ga65" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MMCSR_ERASE_PARAM</b>&nbsp;&nbsp;&nbsp;0x08000000</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga66"></a><!-- doxytag: member="xgMmCard::MMCSR_WP_VIOLATION" ref="ga66" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MMCSR_WP_VIOLATION</b>&nbsp;&nbsp;&nbsp;0x04000000</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga67"></a><!-- doxytag: member="xgMmCard::MMCSR_COM_CRC_ERROR" ref="ga67" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MMCSR_COM_CRC_ERROR</b>&nbsp;&nbsp;&nbsp;0x00800000</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga68"></a><!-- doxytag: member="xgMmCard::MMCSR_ILLEGAL_COMMAND" ref="ga68" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MMCSR_ILLEGAL_COMMAND</b>&nbsp;&nbsp;&nbsp;0x00400000</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga69"></a><!-- doxytag: member="xgMmCard::MMCSR_ERROR" ref="ga69" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MMCSR_ERROR</b>&nbsp;&nbsp;&nbsp;0x00080000</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga70"></a><!-- doxytag: member="xgMmCard::MMCSR_CIDCSD_OVERWRITE" ref="ga70" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MMCSR_CIDCSD_OVERWRITE</b>&nbsp;&nbsp;&nbsp;0x00010000</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga71"></a><!-- doxytag: member="xgMmCard::MMCSR_WP_ERASE_SKIP" ref="ga71" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MMCSR_WP_ERASE_SKIP</b>&nbsp;&nbsp;&nbsp;0x00008000</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga72"></a><!-- doxytag: member="xgMmCard::MMCSR_CARD_ECC_DISABLED" ref="ga72" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MMCSR_CARD_ECC_DISABLED</b>&nbsp;&nbsp;&nbsp;0x00004000</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga73"></a><!-- doxytag: member="xgMmCard::MMCSR_ERASE_RESET" ref="ga73" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MMCSR_ERASE_RESET</b>&nbsp;&nbsp;&nbsp;0x00002000</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga74"></a><!-- doxytag: member="xgMmCard::MMCSR_STATE_MASK" ref="ga74" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MMCSR_STATE_MASK</b>&nbsp;&nbsp;&nbsp;0x00001E00</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga75"></a><!-- doxytag: member="xgMmCard::MMCSR_READY_FOR_DATA" ref="ga75" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MMCSR_READY_FOR_DATA</b>&nbsp;&nbsp;&nbsp;0x00000100</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga76"></a><!-- doxytag: member="xgMmCard::MMCSR_IS_IDLE" ref="ga76" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MMCSR_IS_IDLE</b>&nbsp;&nbsp;&nbsp;0x00000000</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga77"></a><!-- doxytag: member="xgMmCard::MMCSR_IS_READY" ref="ga77" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MMCSR_IS_READY</b>&nbsp;&nbsp;&nbsp;0x00000200</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga78"></a><!-- doxytag: member="xgMmCard::MMCSR_IS_IDENT" ref="ga78" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MMCSR_IS_IDENT</b>&nbsp;&nbsp;&nbsp;0x00000400</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga79"></a><!-- doxytag: member="xgMmCard::MMCSR_IS_STBY" ref="ga79" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MMCSR_IS_STBY</b>&nbsp;&nbsp;&nbsp;0x00000600</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga80"></a><!-- doxytag: member="xgMmCard::MMCSR_IS_TRAN" ref="ga80" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MMCSR_IS_TRAN</b>&nbsp;&nbsp;&nbsp;0x00000800</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga81"></a><!-- doxytag: member="xgMmCard::MMCSR_IS_DATA" ref="ga81" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MMCSR_IS_DATA</b>&nbsp;&nbsp;&nbsp;0x00000A00</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga82"></a><!-- doxytag: member="xgMmCard::MMCSR_IS_RCV" ref="ga82" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MMCSR_IS_RCV</b>&nbsp;&nbsp;&nbsp;0x00000C00</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga83"></a><!-- doxytag: member="xgMmCard::MMCSR_IS_PRG" ref="ga83" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MMCSR_IS_PRG</b>&nbsp;&nbsp;&nbsp;0x00000E00</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga84"></a><!-- doxytag: member="xgMmCard::MMCSR_IS_DIS" ref="ga84" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MMCSR_IS_DIS</b>&nbsp;&nbsp;&nbsp;0x00001000</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga85"></a><!-- doxytag: member="xgMmCard::MMDR_ACCEPTED" ref="ga85" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MMDR_ACCEPTED</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga86"></a><!-- doxytag: member="xgMmCard::MMDR_CRC_ERROR" ref="ga86" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MMDR_CRC_ERROR</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga87"></a><!-- doxytag: member="xgMmCard::MMDR_WRITE_ERROR" ref="ga87" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MMDR_WRITE_ERROR</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga88"></a><!-- doxytag: member="xgMmCard::MMCERR_TIMEOUT" ref="ga88" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MMCERR_TIMEOUT</b>&nbsp;&nbsp;&nbsp;0x00000001</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga89"></a><!-- doxytag: member="xgMmCard::MMCOP_NBUSY" ref="ga89" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MMCOP_NBUSY</b>&nbsp;&nbsp;&nbsp;0x80000000</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga90"></a><!-- doxytag: member="xgMmCard::MMCARD_CIDR_SIZE" ref="ga90" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga90">MMCARD_CIDR_SIZE</a>&nbsp;&nbsp;&nbsp;16</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Number of bytes in the CID register. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga91"></a><!-- doxytag: member="xgMmCard::MMCARD_CSDR_SIZE" ref="ga91" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga91">MMCARD_CSDR_SIZE</a>&nbsp;&nbsp;&nbsp;16</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Number of bytes in the CSD register. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga92"></a><!-- doxytag: member="xgMmCard::MMCARD_OCR_SIZE" ref="ga92" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga92">MMCARD_OCR_SIZE</a>&nbsp;&nbsp;&nbsp;32</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Number of bytes in the operating condition register. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga93"></a><!-- doxytag: member="xgMmCard::MMC_BLOCK_SIZE" ref="ga93" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MMC_BLOCK_SIZE</b>&nbsp;&nbsp;&nbsp;512</td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga0"></a><!-- doxytag: member="xgMmCard::MMCIFC" ref="ga0" args="" -->
typedef <a class="el" href="struct__MMCIFC.html">_MMCIFC</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga0">MMCIFC</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Low level access information structure. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga1"></a><!-- doxytag: member="xgMmCard::MMCFCB" ref="ga1" args="" -->
typedef <a class="el" href="struct__MMCFCB.html">_MMCFCB</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga1">MMCFCB</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Local multimedia card mount information. <br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga11">MmCardBlockRead</a> (<a class="el" href="struct__NUTFILE.html">NUTFILE</a> *nfp, void *buffer, int num)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read data blocks from a mounted partition.  <a href="#ga11"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga12">MmCardBlockWrite</a> (<a class="el" href="struct__NUTFILE.html">NUTFILE</a> *nfp, CONST void *buffer, int num)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write data blocks to a mounted partition.  <a href="#ga12"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga13">MmCardBlockWrite_P</a> (<a class="el" href="struct__NUTFILE.html">NUTFILE</a> *nfp, PGM_P buffer, int num)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write data blocks from program space to a mounted partition.  <a href="#ga13"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct__NUTFILE.html">NUTFILE</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga14">MmCardMount</a> (<a class="el" href="struct__NUTDEVICE.html">NUTDEVICE</a> *dev, CONST char *name, int mode, int acc)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Mount a partition.  <a href="#ga14"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga15">MmCardUnmount</a> (<a class="el" href="struct__NUTFILE.html">NUTFILE</a> *nfp)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Unmount a previously mounted partition.  <a href="#ga15"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga17">MmCardIOCtl</a> (<a class="el" href="struct__NUTDEVICE.html">NUTDEVICE</a> *dev, int req, void *conf)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Perform MMC control functions.  <a href="#ga17"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgMmCard.html#ga18">MmCardDevInit</a> (<a class="el" href="struct__NUTDEVICE.html">NUTDEVICE</a> *dev)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize high level MMC driver.  <a href="#ga18"></a><br></td></tr>
</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="ga21"></a><!-- doxytag: member="mmcard.h::MMCMD_GO_IDLE_STATE" ref="ga21" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define MMCMD_GO_IDLE_STATE&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Reset card to idle state. 
<p>
In idle state the card will not accept any other commands than MMCMD_SEND_OP_COND or MMCMD_READ_OCR.    </td>
  </tr>
</table>
<a class="anchor" name="ga23"></a><!-- doxytag: member="mmcard.h::MMCMD_ALL_SEND_CID" ref="ga23" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define MMCMD_ALL_SEND_CID&nbsp;&nbsp;&nbsp;2          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Send operation condition register. 
<p>
Queries the operation condition register content from all cards, which are in idle state.    </td>
  </tr>
</table>
<a class="anchor" name="ga44"></a><!-- doxytag: member="mmcard.h::MMCMD_CRC_ON_OFF" ref="ga44" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define MMCMD_CRC_ON_OFF&nbsp;&nbsp;&nbsp;59          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Enable or disable CRC mode. 
<p>
In SPI mode CRC is disabled by default.    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="ga11"></a><!-- doxytag: member="mmcard.c::MmCardBlockRead" ref="ga11" args="(NUTFILE *nfp, void *buffer, int num)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int MmCardBlockRead           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct__NUTFILE.html">NUTFILE</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>nfp</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>num</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read data blocks from a mounted partition. 
<p>
Applications should not call this function directly, but use the stdio interface.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>nfp</em>&nbsp;</td><td>Pointer to a <a class="el" href="group__xgDevice.html#ga3">NUTFILE</a> structure, obtained by a previous call to <a class="el" href="group__xgMmCard.html#ga14">MmCardMount()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>Pointer to the data buffer to fill. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>num</em>&nbsp;</td><td>Maximum number of blocks to read. However, reading multiple blocks is not yet supported by this driver.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The number of blocks actually read. A return value of -1 indicates an error.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga12"></a><!-- doxytag: member="mmcard.c::MmCardBlockWrite" ref="ga12" args="(NUTFILE *nfp, CONST void *buffer, int num)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int MmCardBlockWrite           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct__NUTFILE.html">NUTFILE</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>nfp</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>CONST void *&nbsp;</td>
          <td class="mdname" nowrap> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>num</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Write data blocks to a mounted partition. 
<p>
Applications should not call this function directly, but use the stdio interface.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>nfp</em>&nbsp;</td><td>Pointer to a <a class="el" href="group__xgDevice.html#ga3">NUTFILE</a> structure, obtained by a previous call to <a class="el" href="group__xgMmCard.html#ga14">MmCardMount()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>Pointer to the data to be written. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>num</em>&nbsp;</td><td>Maximum number of blocks to write. However, writing multiple blocks is not yet supported by this driver.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The number of blocks written. A return value of -1 indicates an error.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga13"></a><!-- doxytag: member="mmcard.c::MmCardBlockWrite_P" ref="ga13" args="(NUTFILE *nfp, PGM_P buffer, int num)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int MmCardBlockWrite_P           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct__NUTFILE.html">NUTFILE</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>nfp</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>PGM_P&nbsp;</td>
          <td class="mdname" nowrap> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>num</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Write data blocks from program space to a mounted partition. 
<p>
This function is not yet implemented and will always return -1.<p>
Similar to <a class="el" href="group__xgMmCard.html#ga12">MmCardBlockWrite()</a> except that the data is located in program memory.<p>
Applications should not call this function directly, but use the stdio interface.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>nfp</em>&nbsp;</td><td>File pointer to a previously opened device. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>Pointer to the data bytes in program space to be written. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>num</em>&nbsp;</td><td>Maximum number of blocks to write. However, writing multiple blocks is not yet supported by this driver.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The number of blocks written. A return value of -1 indicates an error.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga14"></a><!-- doxytag: member="mmcard.c::MmCardMount" ref="ga14" args="(NUTDEVICE *dev, CONST char *name, int mode, int acc)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="struct__NUTFILE.html">NUTFILE</a>* MmCardMount           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct__NUTDEVICE.html">NUTDEVICE</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>CONST char *&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>mode</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>acc</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Mount a partition. 
<p>
Nut/OS doesn't provide specific routines for mounting. Instead routines for opening files are used.<p>
Applications should not directly call this function, but use the high level stdio routines for opening a file.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>Pointer to the MMC device. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>Partition number followed by a slash followed by a name of the file system device. Both items are optional. If no file system driver name is given, the first file system driver found in the list of registered devices will be used. If no partition number is specified or if partition zero is given, the first active primary partition will be used. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mode</em>&nbsp;</td><td>Opening mode. Currently ignored, but <div class="fragment"><pre class="fragment"> <a class="code" href="group__xgCrtLowio.html#ga11">_O_RDWR</a> | <a class="code" href="group__xgCrtLowio.html#ga17">_O_BINARY</a> 
</pre></div> should be used for compatibility with future enhancements. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>acc</em>&nbsp;</td><td>File attributes, ignored.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Pointer to a newly created file pointer to the mounted partition or NUTFILE_EOF in case of any error.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga15"></a><!-- doxytag: member="mmcard.c::MmCardUnmount" ref="ga15" args="(NUTFILE *nfp)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int MmCardUnmount           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct__NUTFILE.html">NUTFILE</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>nfp</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Unmount a previously mounted partition. 
<p>
Applications should not directly call this function, but use the high level stdio routines for closing a previously opened file.<p>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, -1 otherwise.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga17"></a><!-- doxytag: member="mmcard.c::MmCardIOCtl" ref="ga17" args="(NUTDEVICE *dev, int req, void *conf)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int MmCardIOCtl           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct__NUTDEVICE.html">NUTDEVICE</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>conf</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Perform MMC control functions. 
<p>
This function is called by the ioctl() function of the C runtime library. Applications should not directly call this function.<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000043">Todo:</a></b></dt><dd>Card change detection should verify the serial card number.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>Identifies the device that receives the device-control function. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>req</em>&nbsp;</td><td>Requested control function. May be set to one of the following constants:<ul>
<li><a class="el" href="blockdev_8h.html#a1">NUTBLKDEV_MEDIACHANGE</a></li><li><a class="el" href="blockdev_8h.html#a2">NUTBLKDEV_INFO</a></li><li><a class="el" href="blockdev_8h.html#a3">NUTBLKDEV_SEEK</a></li><li><a class="el" href="mmcard_8h.html#a76">MMCARD_GETCID</a></li><li><a class="el" href="mmcard_8h.html#a77">MMCARD_GETCSD</a></li></ul>
</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>conf</em>&nbsp;</td><td>Points to a buffer that contains any data required for the given control function or receives data from that function. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, -1 otherwise.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga18"></a><!-- doxytag: member="mmcard.c::MmCardDevInit" ref="ga18" args="(NUTDEVICE *dev)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int MmCardDevInit           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct__NUTDEVICE.html">NUTDEVICE</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>dev</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initialize high level MMC driver. 
<p>
Applications should not directly call this function. It is automatically executed during during device registration by <a class="el" href="group__xgDevice.html#ga7">NutRegisterDevice()</a>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>Identifies the device to initialize.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Always zero.</dd></dl>
    </td>
  </tr>
</table>
<hr>
<address>
  <small>
    &copy;&nbsp;2000-2006 by egnite Software GmbH - 
    visit <a href="http://www.ethernut.de/">http://www.ethernut.de/</a>
  </small>
</address>
</body>
</html>
