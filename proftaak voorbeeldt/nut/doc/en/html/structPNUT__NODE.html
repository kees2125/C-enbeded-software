<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
    <title>Nut/OS API</title>
    <link href="nut_en.css" rel="stylesheet" type="text/css">
</head>
<body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.4.4 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a> | <a class="qindex" href="examples.html">Examples</a></div>
<h1>PNUT_NODE Struct Reference</h1><!-- doxytag: class="PNUT_NODE" --><hr><a name="_details"></a><h2>Detailed Description</h2>
Node structure. 
<p>
The Peanut filesystem divides the total space into blocks. It distinguishes between unallocated blocks, data blocks and blocks containing node informations. Each allocated data block is associated to a node block. Unallocated blocks are collected in a linked list.<p>
Peanut knows two types of nodes, file nodes and directory nodes. Each file node represents a file entry and the associated data blocks contain the contents of this file. Each directory node represents a directory and the associated data blocks contain the entries in this directory. Each directory entry in use contains a link to to a node block.<p>
<dl compact><dt><b>Note:</b></dt><dd>The node structure must fit into a block.</dd></dl>

<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Fields</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">u_char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structPNUT__NODE.html#o0">node_type</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">u_char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structPNUT__NODE.html#o1">node_refs</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__xgNutOS.html#ga1">u_short</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structPNUT__NODE.html#o2">node_links</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Number of links.  <a href="#o2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__xgNutOS.html#ga3">u_long</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structPNUT__NODE.html#o3">node_size</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__xgCrtTime.html#ga1">time_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structPNUT__NODE.html#o4">node_mtime</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">PNUT_BLKNUM&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structPNUT__NODE.html#o5">node_blocks</a> [PNUT_BLOCKS_PER_NODE]</td></tr>

</table>
<hr><h2>Field Documentation</h2>
<a class="anchor" name="o0"></a><!-- doxytag: member="PNUT_NODE::node_type" ref="o0" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">u_char <a class="el" href="structPNUT__NODE.html#o0">PNUT_NODE::node_type</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Type of this node, 0=file, 1=dir     </td>
  </tr>
</table>
<a class="anchor" name="o1"></a><!-- doxytag: member="PNUT_NODE::node_refs" ref="o1" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">u_char <a class="el" href="structPNUT__NODE.html#o1">PNUT_NODE::node_refs</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Reference counter: Number of active open calls.     </td>
  </tr>
</table>
<a class="anchor" name="o2"></a><!-- doxytag: member="PNUT_NODE::node_links" ref="o2" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__xgNutOS.html#ga1">u_short</a> <a class="el" href="structPNUT__NODE.html#o2">PNUT_NODE::node_links</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Number of links. 
<p>
For file nodes this number keeps track of the number of directory entries pointing to it. PNUT currently doesn't support link type entries, thus in file entries this is always 1.<p>
For directory nodes the number represents the number of subdirectories plus 2.    </td>
  </tr>
</table>
<a class="anchor" name="o3"></a><!-- doxytag: member="PNUT_NODE::node_size" ref="o3" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__xgNutOS.html#ga3">u_long</a> <a class="el" href="structPNUT__NODE.html#o3">PNUT_NODE::node_size</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Total size of the data area.     </td>
  </tr>
</table>
<a class="anchor" name="o4"></a><!-- doxytag: member="PNUT_NODE::node_mtime" ref="o4" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__xgCrtTime.html#ga1">time_t</a> <a class="el" href="structPNUT__NODE.html#o4">PNUT_NODE::node_mtime</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Time of last modification.     </td>
  </tr>
</table>
<a class="anchor" name="o5"></a><!-- doxytag: member="PNUT_NODE::node_blocks" ref="o5" args="[PNUT_BLOCKS_PER_NODE]" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">PNUT_BLKNUM <a class="el" href="structPNUT__NODE.html#o5">PNUT_NODE::node_blocks</a>[PNUT_BLOCKS_PER_NODE]          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Allocated data blocks.     </td>
  </tr>
</table>
<hr>
<address>
  <small>
    &copy;&nbsp;2000-2006 by egnite Software GmbH - 
    visit <a href="http://www.ethernut.de/">http://www.ethernut.de/</a>
  </small>
</address>
</body>
</html>
