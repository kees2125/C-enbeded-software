<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
    <title>Nut/OS API</title>
    <link href="nut_en.css" rel="stylesheet" type="text/css">
</head>
<body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.4.4 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a> | <a class="qindex" href="examples.html">Examples</a></div>
<h1>Time handling Functions<br>
<small>
[<a class="el" href="group__xgCrt.html">C Runtime Library.</a>]</small>
</h1>
<p>
Collaboration diagram for Time handling Functions:<center><table><tr><td><img src="group__xgCrtTime.png" border="0" alt="" usemap="#group____xgCrtTime_map">
<map name="group____xgCrtTime_map">
<area href="group__xgCrt.html" shape="rect" coords="17,5,135,26" alt="">
</map></td></tr></table></center>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Implements some standard C time functions. 
<p>
Use these functions to get the current time and convert, adjust, and store it as necessary. The current time is the system time.
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__tm.html">_tm</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">structure to store a date/time value.  <a href="struct__tm.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga0"></a><!-- doxytag: member="xgCrtTime::tm" ref="ga0" args="" -->
typedef <a class="el" href="struct__tm.html">_tm</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgCrtTime.html#ga0">tm</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Type definition for struct <a class="el" href="struct__tm.html">_tm</a>. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga1"></a><!-- doxytag: member="xgCrtTime::time_t" ref="ga1" args="" -->
typedef long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgCrtTime.html#ga1">time_t</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Serial date/time. Holds number of seconds after January 1st, 1970. <br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__xgCrtTime.html#ga1">time_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgCrtTime.html#ga5">time</a> (<a class="el" href="group__xgCrtTime.html#ga1">time_t</a> *timer)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the system time.  <a href="#ga5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgCrtTime.html#ga6">gmtime_r</a> (CONST <a class="el" href="group__xgCrtTime.html#ga1">time_t</a> *timer, <a class="el" href="struct__tm.html">tm</a> *ptm)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert a time value to a structure.  <a href="#ga6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct__tm.html">tm</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgCrtTime.html#ga7">gmtime</a> (CONST <a class="el" href="group__xgCrtTime.html#ga1">time_t</a> *timer)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert a time value to a structure.  <a href="#ga7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgCrtTime.html#ga8">localtime_r</a> (CONST <a class="el" href="group__xgCrtTime.html#ga1">time_t</a> *timer, <a class="el" href="struct__tm.html">tm</a> *ptm)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert a time value and correct for the local time zone.  <a href="#ga8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct__tm.html">tm</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgCrtTime.html#ga9">localtime</a> (CONST <a class="el" href="group__xgCrtTime.html#ga1">time_t</a> *timer)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert a time value and correct for the local time zone.  <a href="#ga9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgCrtTime.html#ga10">stime</a> (<a class="el" href="group__xgCrtTime.html#ga1">time_t</a> *timer)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the system time.  <a href="#ga10"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__xgCrtTime.html#ga1">time_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgCrtTime.html#ga11">mktime</a> (<a class="el" href="struct__tm.html">tm</a> *timeptr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert the local time to a calendar value.  <a href="#ga11"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga12"></a><!-- doxytag: member="xgCrtTime::_mkgmtime" ref="ga12" args="(tm *timeptr)" -->
<a class="el" href="group__xgCrtTime.html#ga1">time_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>_mkgmtime</b> (<a class="el" href="struct__tm.html">tm</a> *timeptr)</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">u_char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgCrtTime.html#ga2">_daylight</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Used to control daylight conversions.  <a href="#ga2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgCrtTime.html#ga3">_timezone</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Defines your local timezone.  <a href="#ga3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgCrtTime.html#ga4">_dstbias</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Difference between standard and daylight savings time in seconds.  <a href="#ga4"></a><br></td></tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="ga5"></a><!-- doxytag: member="time.h::time" ref="ga5" args="(time_t *timer)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__xgCrtTime.html#ga1">time_t</a> time           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__xgCrtTime.html#ga1">time_t</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>timer</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the system time. 
<p>
The <b>time</b> function returns the number of seconds elapsed since midnight (00:00:00), January 1, 1970, coordinated universal time (UTC), according to the system clock. The return value is stored in the location given by <em>timer</em>. This parameter may be <b>NULL</b>, in which case the return value is not stored.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>timer</em>&nbsp;</td><td>Pointer to the storage location for time. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Return the time in elapsed seconds. There is no error return.</dd></dl>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="ftpd_2ftpserv_8c-example.html#a68">ftpd/ftpserv.c</a>.</dl>    </td>
  </tr>
</table>
<a class="anchor" name="ga6"></a><!-- doxytag: member="time.h::gmtime_r" ref="ga6" args="(CONST time_t *timer, tm *ptm)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int gmtime_r           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">CONST <a class="el" href="group__xgCrtTime.html#ga1">time_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>timer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="struct__tm.html">tm</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>ptm</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Convert a time value to a structure. 
<p>
Thread safe version of <b>gmtime</b>. See <a class="el" href="group__xgCrtTime.html#ga7">gmtime</a> for more information.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>timer</em>&nbsp;</td><td>Pointer to stored time. The time is represented as seconds elapsed since midnight (00:00:00), January 1, 1970, coordinated universal time (UTC). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ptm</em>&nbsp;</td><td>Pointer to structure <a class="el" href="group__xgCrtTime.html#ga0">tm</a> where the converted time is stored. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Returns nonzero value if any error occured.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga7"></a><!-- doxytag: member="time.h::gmtime" ref="ga7" args="(CONST time_t *timer)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="struct__tm.html">tm</a> * gmtime           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">CONST <a class="el" href="group__xgCrtTime.html#ga1">time_t</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>timer</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Convert a time value to a structure. 
<p>
The <b>gmtime</b> function breaks down the <em>timer</em> value and stores it in a statically allocated structure of type <a class="el" href="group__xgCrtTime.html#ga0">tm</a>, defined in <a class="el" href="time_8h.html">time.h</a>. The value of <em>timer</em> is usually obtained from a call to the <a class="el" href="group__xgCrtTime.html#ga5">time</a> function.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>timer</em>&nbsp;</td><td>Pointer to stored time. The time is represented as seconds elapsed since midnight (00:00:00), January 1, 1970, coordinated universal time (UTC). </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Returns a pointer to a structure of type <a class="el" href="group__xgCrtTime.html#ga0">tm</a>. The fields of the returned structure hold the evaluated value of the timer argument in UTC rather than in local time.</dd></dl>
<dl compact><dt><b>Note:</b></dt><dd>This function is not thread safe, because it uses a static variable to store the calculated values. To be safe, you must surround the call to <b>gmtime</b> and the usage of the returned pointer with NutEnterCritical() and NutExitCritical()!</dd></dl>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="ftpd_2ftpserv_8c-example.html#a57">ftpd/ftpserv.c</a>.</dl>    </td>
  </tr>
</table>
<a class="anchor" name="ga8"></a><!-- doxytag: member="time.h::localtime_r" ref="ga8" args="(CONST time_t *timer, tm *ptm)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int localtime_r           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">CONST <a class="el" href="group__xgCrtTime.html#ga1">time_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>timer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="struct__tm.html">tm</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>ptm</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Convert a time value and correct for the local time zone. 
<p>
Thread safe version of <b>localtime</b>. See <a class="el" href="group__xgCrtTime.html#ga9">localtime</a> for more information.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>timer</em>&nbsp;</td><td>Pointer to stored time. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ptm</em>&nbsp;</td><td>Pointer to structure <a class="el" href="group__xgCrtTime.html#ga0">tm</a> where the converted time is stored. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Always return 0.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga9"></a><!-- doxytag: member="time.h::localtime" ref="ga9" args="(CONST time_t *timer)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="struct__tm.html">tm</a> * localtime           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">CONST <a class="el" href="group__xgCrtTime.html#ga1">time_t</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>timer</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Convert a time value and correct for the local time zone. 
<p>
The localtime function converts a time stored as a time_t value and stores the result in a structure of type <a class="el" href="group__xgCrtTime.html#ga0">tm</a>. The long value <em>timer</em> represents the seconds elapsed since midnight (00:00:00), January 1, 1970, UTC. This value is usually obtained from the <a class="el" href="group__xgCrtTime.html#ga5">time</a> function.<p>
<a class="el" href="group__xgCrtTime.html#ga7">gmtime</a>, <a class="el" href="group__xgCrtTime.html#ga11">mktime</a>, and <b>localtime</b> all use a single statically allocated <a class="el" href="group__xgCrtTime.html#ga0">tm</a> structure for the conversion. Each call to one of these routines destroys the result of the previous call.<p>
<b>localtime</b> corrects for the local time zone if the user first sets the global variable <a class="el" href="group__xgCrtTime.html#ga3">_timezone</a>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>timer</em>&nbsp;</td><td>Pointer to stored time. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Return a pointer to the structure result. If the value in <em>timer</em> represents a date before midnight, January 1, 1970, return <b>NULL</b>.</dd></dl>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="ftpd_2ftpserv_8c-example.html#a69">ftpd/ftpserv.c</a>.</dl>    </td>
  </tr>
</table>
<a class="anchor" name="ga10"></a><!-- doxytag: member="time.h::stime" ref="ga10" args="(time_t *timer)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int stime           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__xgCrtTime.html#ga1">time_t</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>timer</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set the system time. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>timer</em>&nbsp;</td><td>Pointer to the storage location for time. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>This function always returns 0.</dd></dl>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="ftpd_2ftpserv_8c-example.html#a55">ftpd/ftpserv.c</a>, and <a class="el" href="logtime_2logtime_8c-example.html#a222">logtime/logtime.c</a>.</dl>    </td>
  </tr>
</table>
<a class="anchor" name="ga11"></a><!-- doxytag: member="time.h::mktime" ref="ga11" args="(tm *timeptr)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__xgCrtTime.html#ga1">time_t</a> mktime           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct__tm.html">tm</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>timeptr</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Convert the local time to a calendar value. 
<p>
The <b>mktime</b> function converts the supplied time structure (possibly incomplete) pointed to by <em>timeptr</em> into a fully defined structure with normalized values and then converts it to a <a class="el" href="group__xgCrtTime.html#ga1">time_t</a> calendar time value. The converted time has the same encoding as the values returned by the <a class="el" href="group__xgCrtTime.html#ga5">time</a> function. The original values of the <code>tm_wday</code> and <code>tm_yday</code> components of the <em>timeptr</em> structure are ignored, and the original values of the other components are not restricted to their normal ranges.<p>
After an adjustment to Greenwich Mean Time (GMT), <b>mktime</b> handles dates from midnight, January 1, 1970, to January 19, 3:14:07, 2038. This adjustment may cause <b>mktime</b> to return -1 (cast to <a class="el" href="group__xgCrtTime.html#ga1">time_t</a>) even though the date you specify is within range. For example, if you are in Cairo, Egypt, which is two hours ahead of GMT, two hours will first be subtracted from the date you specify in <em>timeptr</em>; this may now put your date out of range.<p>
If successful, <b>mktime</b> sets the values of <code>tm_wday</code> and <code>tm_yday</code> as appropriate and sets the other components to represent the specified calendar time, but with their values forced to the normal ranges. The final value of tm_mday is not set until tm_mon and tm_year are determined. When specifying a tm structure time, set the <code>tm_isdst</code> field to:<p>
<ul>
<li>Zero (0) to indicate that standard time is in effect.</li><li>A value greater than 0 to indicate that daylight savings time is in effect.</li></ul>
<p>
<code>tm_isdst</code> is a required field. If not set, its value is undefined and the return value from <b>mktime</b> is unpredictable. If <em>timeptr</em> points to a <a class="el" href="group__xgCrtTime.html#ga0">tm</a> structure returned by a previous call to <a class="el" href="group__xgCrtTime.html#ga7">gmtime</a> or <a class="el" href="group__xgCrtTime.html#ga9">localtime</a>, the <code>tm_isdst</code> field contains the correct value.<p>
<dl compact><dt><b>Note:</b></dt><dd>Note that <a class="el" href="group__xgCrtTime.html#ga7">gmtime</a> and <a class="el" href="group__xgCrtTime.html#ga9">localtime</a> use a single statically allocated buffer for the conversion. If you supply this buffer to <b>mktime</b>, the previous contents are destroyed.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>timeptr</em>&nbsp;</td><td>Pointer to time structure. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><b>mktime</b> returns the specified calendar time encoded as a value of type <a class="el" href="group__xgCrtTime.html#ga1">time_t</a>. If <em>timeptr</em> references a date before midnight, January 1, 1970, or if the calendar time cannot be represented, <b>mktime</b> returns –1 cast to type <a class="el" href="group__xgCrtTime.html#ga1">time_t</a>. When using <b>mktime</b> and if <em>timeptr</em> references a date after 3:14:07 January 19, 2038, UTC, it will return –1 cast to type <a class="el" href="group__xgCrtTime.html#ga1">time_t</a>.</dd></dl>
    </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="ga2"></a><!-- doxytag: member="time.h::_daylight" ref="ga2" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">u_char <a class="el" href="group__xgCrtTime.html#ga2">_daylight</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Used to control daylight conversions. 
<p>
Assign a nonzero value to enable daylight conversions. If enabled the hour part of time values is adjusted if we are in daylight saving time. Zero value to disable conversion. Default is enabled.    </td>
  </tr>
</table>
<a class="anchor" name="ga3"></a><!-- doxytag: member="time.h::_timezone" ref="ga3" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">long <a class="el" href="group__xgCrtTime.html#ga3">_timezone</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Defines your local timezone. 
<p>
Difference in seconds between universal coordinated time and local time. This value is subtracted from the universal coordinated time to calculate your local time. Default value is 5 * 60 * 60 = 18000, which defines the time zone EST (GMT-5).<p>
<dl compact><dt><b>Note:</b></dt><dd>Before using the time functions, set <b>_timezone</b> to your local value.</dd></dl>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="ftpd_2ftpserv_8c-example.html#a59">ftpd/ftpserv.c</a>, and <a class="el" href="logtime_2logtime_8c-example.html#a221">logtime/logtime.c</a>.</dl>    </td>
  </tr>
</table>
<a class="anchor" name="ga4"></a><!-- doxytag: member="time.h::_dstbias" ref="ga4" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">long <a class="el" href="group__xgCrtTime.html#ga4">_dstbias</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Difference between standard and daylight savings time in seconds. 
<p>
This value is used to calculate the daylight savings time by subtracting this value from the standard time. Unit is seconds. Usually daylight savings time is one hour in advance to standard time, thus the default value is -1 * 60 * 60 = -3600.    </td>
  </tr>
</table>
<hr>
<address>
  <small>
    &copy;&nbsp;2000-2006 by egnite Software GmbH - 
    visit <a href="http://www.ethernut.de/">http://www.ethernut.de/</a>
  </small>
</address>
</body>
</html>
