<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
    <title>Nut/OS API</title>
    <link href="nut_en.css" rel="stylesheet" type="text/css">
</head>
<body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.4.4 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a> | <a class="qindex" href="examples.html">Examples</a></div>
<h1>_NUTDEVICE Struct Reference<br>
<small>
[<a class="el" href="group__xgDevice.html">Device Management</a>]</small>
</h1><!-- doxytag: class="_NUTDEVICE" --><code>#include &lt;device.h&gt;</code>
<p>
Collaboration diagram for _NUTDEVICE:<p><center><img src="struct__NUTDEVICE__coll__graph.png" border="0" usemap="#__NUTDEVICE__coll__map" alt="Collaboration graph"></center>
<map name="__NUTDEVICE__coll__map">
<area href="struct__NUTFILE.html" shape="rect" coords="44,106,113,128" alt="">
</map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center><hr><a name="_details"></a><h2>Detailed Description</h2>
Device structure. 
<p>
Each device driver provides a global variable of this type. Applications use <a class="el" href="group__xgDevice.html#ga7">NutRegisterDevice()</a> to bind the device driver to the application code. Except this call, applications refer to device drivers by the name of the device when using standard C functions like <a class="el" href="group__xgCrtLowio.html#ga3">_open()</a> or <a class="el" href="group__xgCrtStdio.html#ga17">fopen()</a>.<p>
More than one device driver may be available for the same hardware device. Typically these drivers provide the same name for the device and applications must not refer to more than one device driver with the same name.
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Fields</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="o0"></a><!-- doxytag: member="_NUTDEVICE::dev_next" ref="o0" args="" -->
<a class="el" href="struct__NUTDEVICE.html">NUTDEVICE</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__NUTDEVICE.html#o0">dev_next</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Link to the next device structure. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="o1"></a><!-- doxytag: member="_NUTDEVICE::dev_name" ref="o1" args="[9]" -->
char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__NUTDEVICE.html#o1">dev_name</a> [9]</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Unique device name. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">u_char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__NUTDEVICE.html#o2">dev_type</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Type of interface.  <a href="#o2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__xgNutOS.html#ga6">uptr_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__NUTDEVICE.html#o3">dev_base</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Hardware base address.  <a href="#o3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">u_char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__NUTDEVICE.html#o4">dev_irq</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Interrupt registration number.  <a href="#o4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__NUTDEVICE.html#o5">dev_icb</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Interface control block.  <a href="#o5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__NUTDEVICE.html#o6">dev_dcb</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Driver control block.  <a href="#o6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__NUTDEVICE.html#o7">dev_init</a> )(<a class="el" href="struct__NUTDEVICE.html">NUTDEVICE</a> *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Driver initialization routine.  <a href="#o7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__NUTDEVICE.html#o8">dev_ioctl</a> )(<a class="el" href="struct__NUTDEVICE.html">NUTDEVICE</a> *, int, void *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Driver control function.  <a href="#o8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="o9"></a><!-- doxytag: member="_NUTDEVICE::dev_read" ref="o9" args=")(NUTFILE *, void *, int)" -->
int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__NUTDEVICE.html#o9">dev_read</a> )(<a class="el" href="struct__NUTFILE.html">NUTFILE</a> *, void *, int)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read from device. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="o10"></a><!-- doxytag: member="_NUTDEVICE::dev_write" ref="o10" args=")(NUTFILE *, CONST void *, int)" -->
int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__NUTDEVICE.html#o10">dev_write</a> )(<a class="el" href="struct__NUTFILE.html">NUTFILE</a> *, CONST void *, int)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write to device. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="o11"></a><!-- doxytag: member="_NUTDEVICE::dev_write_P" ref="o11" args=")(NUTFILE *, PGM_P, int)" -->
int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__NUTDEVICE.html#o11">dev_write_P</a> )(<a class="el" href="struct__NUTFILE.html">NUTFILE</a> *, PGM_P, int)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write to device. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="o12"></a><!-- doxytag: member="_NUTDEVICE::dev_open" ref="o12" args=")(NUTDEVICE *, CONST char *, int, int)" -->
<a class="el" href="struct__NUTFILE.html">NUTFILE</a> *(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__NUTDEVICE.html#o12">dev_open</a> )(<a class="el" href="struct__NUTDEVICE.html">NUTDEVICE</a> *, CONST char *, int, int)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Open a device or file. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="o13"></a><!-- doxytag: member="_NUTDEVICE::dev_close" ref="o13" args=")(NUTFILE *)" -->
int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__NUTDEVICE.html#o13">dev_close</a> )(<a class="el" href="struct__NUTFILE.html">NUTFILE</a> *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Close a device or file. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="o14"></a><!-- doxytag: member="_NUTDEVICE::dev_size" ref="o14" args=")(NUTFILE *)" -->
long(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__NUTDEVICE.html#o14">dev_size</a> )(<a class="el" href="struct__NUTFILE.html">NUTFILE</a> *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Request file size. <br></td></tr>
</table>
<hr><h2>Field Documentation</h2>
<a class="anchor" name="o2"></a><!-- doxytag: member="_NUTDEVICE::dev_type" ref="o2" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">u_char <a class="el" href="struct__NUTDEVICE.html#o2">_NUTDEVICE::dev_type</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Type of interface. 
<p>
May be any of the following:<ul>
<li>IFTYP_RAM</li><li>IFTYP_ROM</li><li>IFTYP_STREAM</li><li>IFTYP_NET</li><li>IFTYP_TCPSOCK</li><li>IFTYP_CHAR</li></ul>
    </td>
  </tr>
</table>
<a class="anchor" name="o3"></a><!-- doxytag: member="_NUTDEVICE::dev_base" ref="o3" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__xgNutOS.html#ga6">uptr_t</a> <a class="el" href="struct__NUTDEVICE.html#o3">_NUTDEVICE::dev_base</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Hardware base address. 
<p>
Will be set by calling <a class="el" href="group__xgDevice.html#ga7">NutRegisterDevice()</a>. On some device drivers this address may be fixed.    </td>
  </tr>
</table>
<a class="anchor" name="o4"></a><!-- doxytag: member="_NUTDEVICE::dev_irq" ref="o4" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">u_char <a class="el" href="struct__NUTDEVICE.html#o4">_NUTDEVICE::dev_irq</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Interrupt registration number. 
<p>
Will be set by calling <a class="el" href="group__xgDevice.html#ga7">NutRegisterDevice()</a>. On some device drivers the interrupt may be fixed.    </td>
  </tr>
</table>
<a class="anchor" name="o5"></a><!-- doxytag: member="_NUTDEVICE::dev_icb" ref="o5" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void* <a class="el" href="struct__NUTDEVICE.html#o5">_NUTDEVICE::dev_icb</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Interface control block. 
<p>
With stream devices, this points to the IFSTREAM structure and with network devices this is a pointer to the IFNET structure.    </td>
  </tr>
</table>
<a class="anchor" name="o6"></a><!-- doxytag: member="_NUTDEVICE::dev_dcb" ref="o6" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void* <a class="el" href="struct__NUTDEVICE.html#o6">_NUTDEVICE::dev_dcb</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Driver control block. 
<p>
Points to a device specific information block.<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="pppc_2pppc_8c-example.html#a357">pppc/pppc.c</a>.</dl>    </td>
  </tr>
</table>
<a class="anchor" name="o7"></a><!-- doxytag: member="_NUTDEVICE::dev_init" ref="o7" args=")(NUTDEVICE *)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int(* <a class="el" href="struct__NUTDEVICE.html#o7">_NUTDEVICE::dev_init</a>)(<a class="el" href="struct__NUTDEVICE.html">NUTDEVICE</a> *)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Driver initialization routine. 
<p>
This routine is called during device registration.    </td>
  </tr>
</table>
<a class="anchor" name="o8"></a><!-- doxytag: member="_NUTDEVICE::dev_ioctl" ref="o8" args=")(NUTDEVICE *, int, void *)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int(* <a class="el" href="struct__NUTDEVICE.html#o8">_NUTDEVICE::dev_ioctl</a>)(<a class="el" href="struct__NUTDEVICE.html">NUTDEVICE</a> *, int, void *)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Driver control function. 
<p>
Used to modify or query device specific settings.    </td>
  </tr>
</table>
<hr>
<address>
  <small>
    &copy;&nbsp;2000-2006 by egnite Software GmbH - 
    visit <a href="http://www.ethernut.de/">http://www.ethernut.de/</a>
  </small>
</address>
</body>
</html>
