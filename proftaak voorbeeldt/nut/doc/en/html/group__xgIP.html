<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
    <title>Nut/OS API</title>
    <link href="nut_en.css" rel="stylesheet" type="text/css">
</head>
<body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.4.4 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a> | <a class="qindex" href="examples.html">Examples</a></div>
<h1>IP<br>
<small>
[<a class="el" href="group__xgBasePro.html">Base Protocols</a>]</small>
</h1>
<p>
Collaboration diagram for IP:<center><table><tr><td><img src="group__xgIP.png" border="0" alt="" usemap="#group____xgIP_map">
<map name="group____xgIP_map">
<area href="group__xgBasePro.html" shape="rect" coords="19,5,117,26" alt="">
</map></td></tr></table></center>
<hr><a name="_details"></a><h2>Detailed Description</h2>
RFC 791 Internet protocol version 4. 
<p>
Before using IP based protocols, you must have registered a network device driver like PPP or one of the supported Ethernet controller drivers.<p>
You must also have configured the IP network interface with <a class="el" href="pro_2dhcp_8h.html#a17">NutDhcpIfConfig()</a> or <a class="el" href="group__xgIP.html#ga6">NutNetIfConfig()</a>.<p>
Typical applications do not use the IP layer directly, but call the <a class="el" href="group__xgUdpSocket.html">UDP Socket API</a> or the <a class="el" href="group__xgTcpSocket.html">TCP Socket API</a>. A Raw IP API is currently not supported.<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000007">Todo:</a></b></dt><dd>Configurable checksum calculation for incoming datagrams. </dd></dl>

<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__MCASTENTRY.html">_MCASTENTRY</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Multicast entry structure.  <a href="struct__MCASTENTRY.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structifnet.html">ifnet</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Network interface structure.  <a href="structifnet.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structip.html">ip</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Structure of an internet header.  <a href="structip.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><b>pseudo_hdr</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__MCASTENTRY.html">_MCASTENTRY</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Multicast entry structure.  <a href="struct__MCASTENTRY.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structifnet.html">ifnet</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Network interface structure.  <a href="structifnet.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga22"></a><!-- doxytag: member="xgIP::IPVERSION" ref="ga22" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgIP.html#ga22">IPVERSION</a>&nbsp;&nbsp;&nbsp;4</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">IP protocol version. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga23"></a><!-- doxytag: member="xgIP::IP_DF" ref="ga23" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgIP.html#ga23">IP_DF</a>&nbsp;&nbsp;&nbsp;0x4000</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Don't fragment flag. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga24"></a><!-- doxytag: member="xgIP::IP_MF" ref="ga24" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgIP.html#ga24">IP_MF</a>&nbsp;&nbsp;&nbsp;0x2000</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">More fragments flag. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga25"></a><!-- doxytag: member="xgIP::IP_OFFMASK" ref="ga25" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgIP.html#ga25">IP_OFFMASK</a>&nbsp;&nbsp;&nbsp;0x1fff</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Mask for fragmenting bits. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga26"></a><!-- doxytag: member="xgIP::IPOPT_EOL" ref="ga26" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgIP.html#ga26">IPOPT_EOL</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">End of option list. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga27"></a><!-- doxytag: member="xgIP::IPOPT_NOP" ref="ga27" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgIP.html#ga27">IPOPT_NOP</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">No operation. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga28"></a><!-- doxytag: member="xgIP::IPOPT_RR" ref="ga28" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgIP.html#ga28">IPOPT_RR</a>&nbsp;&nbsp;&nbsp;7</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Record packet route. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga29"></a><!-- doxytag: member="xgIP::IPOPT_TS" ref="ga29" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgIP.html#ga29">IPOPT_TS</a>&nbsp;&nbsp;&nbsp;68</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Timestamp. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga30"></a><!-- doxytag: member="xgIP::IPOPT_SECURITY" ref="ga30" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgIP.html#ga30">IPOPT_SECURITY</a>&nbsp;&nbsp;&nbsp;130</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Provide s,c,h,tcc. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga31"></a><!-- doxytag: member="xgIP::IPOPT_LSRR" ref="ga31" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgIP.html#ga31">IPOPT_LSRR</a>&nbsp;&nbsp;&nbsp;131</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Loose source route. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga32"></a><!-- doxytag: member="xgIP::IPOPT_SATID" ref="ga32" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgIP.html#ga32">IPOPT_SATID</a>&nbsp;&nbsp;&nbsp;136</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Satnet id. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga33"></a><!-- doxytag: member="xgIP::IPOPT_SSRR" ref="ga33" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgIP.html#ga33">IPOPT_SSRR</a>&nbsp;&nbsp;&nbsp;137</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Strict source route. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga34"></a><!-- doxytag: member="xgIP::IPOPT_OPTVAL" ref="ga34" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgIP.html#ga34">IPOPT_OPTVAL</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Option identifier offset. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga35"></a><!-- doxytag: member="xgIP::IPOPT_OLEN" ref="ga35" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgIP.html#ga35">IPOPT_OLEN</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Option length offset. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga36"></a><!-- doxytag: member="xgIP::IPOPT_OFFSET" ref="ga36" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgIP.html#ga36">IPOPT_OFFSET</a>&nbsp;&nbsp;&nbsp;2</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Offset within option. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga37"></a><!-- doxytag: member="xgIP::IPOPT_MINOFF" ref="ga37" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgIP.html#ga37">IPOPT_MINOFF</a>&nbsp;&nbsp;&nbsp;4</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Minimum offset within option. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga38"></a><!-- doxytag: member="xgIP::MAXTTL" ref="ga38" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgIP.html#ga38">MAXTTL</a>&nbsp;&nbsp;&nbsp;255</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Maximum time to live (seconds). <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga39"></a><!-- doxytag: member="xgIP::IPDEFTTL" ref="ga39" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgIP.html#ga39">IPDEFTTL</a>&nbsp;&nbsp;&nbsp;64</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Default time to live. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga40"></a><!-- doxytag: member="xgIP::IPFRAGTTL" ref="ga40" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgIP.html#ga40">IPFRAGTTL</a>&nbsp;&nbsp;&nbsp;60</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Time to live for fragments. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga41"></a><!-- doxytag: member="xgIP::IPTTLDEC" ref="ga41" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgIP.html#ga41">IPTTLDEC</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Subtracted from time to live when forwarding. <br></td></tr>
<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga0"></a><!-- doxytag: member="xgIP::MCASTENTRY" ref="ga0" args="" -->
typedef <a class="el" href="struct__MCASTENTRY.html">_MCASTENTRY</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgIP.html#ga0">MCASTENTRY</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Multicast address entry type. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga1"></a><!-- doxytag: member="xgIP::IFNET" ref="ga1" args="" -->
typedef <a class="el" href="structifnet.html">ifnet</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgIP.html#ga1">IFNET</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Network interface type. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga2"></a><!-- doxytag: member="xgIP::IPHDR" ref="ga2" args="" -->
typedef <a class="el" href="structip.html">ip</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgIP.html#ga2">IPHDR</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internet header type. <br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgIP.html#ga5">NutNetIfSetup</a> (<a class="el" href="struct__NUTDEVICE.html">NUTDEVICE</a> *dev, <a class="el" href="group__xgNutOS.html#ga3">u_long</a> ip_addr, <a class="el" href="group__xgNutOS.html#ga3">u_long</a> ip_mask, <a class="el" href="group__xgNutOS.html#ga3">u_long</a> gateway)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Network interface setup.  <a href="#ga5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgIP.html#ga6">NutNetIfConfig</a> (CONST char *name, void *params, <a class="el" href="group__xgNutOS.html#ga3">u_long</a> ip_addr, <a class="el" href="group__xgNutOS.html#ga3">u_long</a> ip_mask)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Configure a network interface.  <a href="#ga6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgIP.html#ga7">NutNetIfConfig2</a> (CONST char *name, void *params, <a class="el" href="group__xgNutOS.html#ga3">u_long</a> ip_addr, <a class="el" href="group__xgNutOS.html#ga3">u_long</a> ip_mask, <a class="el" href="group__xgNutOS.html#ga3">u_long</a> gateway)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Configure a network interface including the default gateway.  <a href="#ga7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__xgNutOS.html#ga3">u_long</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgIP.html#ga8">inet_addr</a> (CONST char *str)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert decimal dotted ASCII representation into numeric IP address.  <a href="#ga8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgIP.html#ga9">inet_ntoa</a> (<a class="el" href="group__xgNutOS.html#ga3">u_long</a> addr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert numeric IP address into decimal dotted ASCII representation.  <a href="#ga9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__xgNutOS.html#ga1">u_short</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgIP.html#ga10">NutIpChkSumPartial</a> (<a class="el" href="group__xgNutOS.html#ga1">u_short</a> ics, CONST void *buf, size_t len)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Calculate a partial IP checksum of a buffer.  <a href="#ga10"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__xgNutOS.html#ga1">u_short</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgIP.html#ga11">NutIpChkSum</a> (<a class="el" href="group__xgNutOS.html#ga1">u_short</a> ics, CONST void *buf, size_t len)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Calculates an the final IP checksum over a block of data.  <a href="#ga11"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga12"></a><!-- doxytag: member="xgIP::NutIpPseudoChkSumPartial" ref="ga12" args="(u_long src_addr, u_long dest_addr, u_char protocol, u_short len)" -->
<a class="el" href="group__xgNutOS.html#ga3">u_long</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgIP.html#ga12">NutIpPseudoChkSumPartial</a> (<a class="el" href="group__xgNutOS.html#ga3">u_long</a> src_addr, <a class="el" href="group__xgNutOS.html#ga3">u_long</a> dest_addr, u_char protocol, <a class="el" href="group__xgNutOS.html#ga1">u_short</a> len)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Calculates the partial IP pseudo checksum. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgIP.html#ga13">NutIpSetInputFilter</a> (NutIpFilterFunc callbackFunc)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set filter function for incoming IP datagrams.  <a href="#ga13"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgIP.html#ga14">NutIpInput</a> (<a class="el" href="struct__NUTDEVICE.html">NUTDEVICE</a> *dev, <a class="el" href="struct__NETBUF.html">NETBUF</a> *nb)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process incoming IP datagrams.  <a href="#ga14"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgIP.html#ga15">NutIpOutput</a> (u_char proto, <a class="el" href="group__xgNutOS.html#ga3">u_long</a> dest, <a class="el" href="struct__NETBUF.html">NETBUF</a> *nb)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send IP datagram.  <a href="#ga15"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgIP.html#ga16">NutIpRouteAdd</a> (<a class="el" href="group__xgNutOS.html#ga3">u_long</a> <a class="el" href="structip.html">ip</a>, <a class="el" href="group__xgNutOS.html#ga3">u_long</a> mask, <a class="el" href="group__xgNutOS.html#ga3">u_long</a> gate, <a class="el" href="struct__NUTDEVICE.html">NUTDEVICE</a> *dev)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add a new entry to the IP routing table.  <a href="#ga16"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgIP.html#ga17">NutIpRouteDelAll</a> (<a class="el" href="struct__NUTDEVICE.html">NUTDEVICE</a> *dev)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete all route table entries for the given device.  <a href="#ga17"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgIP.html#ga18">NutIpRouteDel</a> (<a class="el" href="group__xgNutOS.html#ga3">u_long</a> <a class="el" href="structip.html">ip</a>, <a class="el" href="group__xgNutOS.html#ga3">u_long</a> mask, <a class="el" href="group__xgNutOS.html#ga3">u_long</a> gate, <a class="el" href="struct__NUTDEVICE.html">NUTDEVICE</a> *dev)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete the specified route table entry.  <a href="#ga18"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct__RTENTRY.html">RTENTRY</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgIP.html#ga19">NutIpRouteList</a> (int *numEntries)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return an array of RTENTRY structures which contain all the current route table entries.  <a href="#ga19"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct__NUTDEVICE.html">NUTDEVICE</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgIP.html#ga21">NutIpRouteQuery</a> (<a class="el" href="group__xgNutOS.html#ga3">u_long</a> <a class="el" href="structip.html">ip</a>, <a class="el" href="group__xgNutOS.html#ga3">u_long</a> *gate)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Find a device associated with a particular IP route.  <a href="#ga21"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct__RTENTRY.html">RTENTRY</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgIP.html#ga4">rteList</a></td></tr>

</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="ga5"></a><!-- doxytag: member="ifconfig.c::NutNetIfSetup" ref="ga5" args="(NUTDEVICE *dev, u_long ip_addr, u_long ip_mask, u_long gateway)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int NutNetIfSetup           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct__NUTDEVICE.html">NUTDEVICE</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="group__xgNutOS.html#ga3">u_long</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ip_addr</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="group__xgNutOS.html#ga3">u_long</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ip_mask</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="group__xgNutOS.html#ga3">u_long</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>gateway</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Network interface setup. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>Identifies the network device to setup. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ip_addr</em>&nbsp;</td><td>Specified IP address in network byte order. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ip_mask</em>&nbsp;</td><td>Specified IP network mask in network byte order. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>gateway</em>&nbsp;</td><td>Optional default gateway.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, -1 otherwise.</dd></dl>
<dl compact><dt><b>Note:</b></dt><dd>Typical applications do not use this function, but call <a class="el" href="pro_2dhcp_8h.html#a17">NutDhcpIfConfig()</a> or <a class="el" href="group__xgIP.html#ga6">NutNetIfConfig()</a>.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga6"></a><!-- doxytag: member="ifconfig.c::NutNetIfConfig" ref="ga6" args="(CONST char *name, void *params, u_long ip_addr, u_long ip_mask)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int NutNetIfConfig           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">CONST char *&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>params</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="group__xgNutOS.html#ga3">u_long</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ip_addr</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="group__xgNutOS.html#ga3">u_long</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ip_mask</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Configure a network interface. 
<p>
Devices must have been registered by <a class="el" href="group__xgDevice.html#ga7">NutRegisterDevice()</a> before calling this function.<p>
For Ethernet devices applications may alternatively call <a class="el" href="pro_2dhcp_8h.html#a17">NutDhcpIfConfig()</a>, which allows automatic configuration by DHCP or the so called ARP method.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>Name of the device to configure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>params</em>&nbsp;</td><td>Pointer to interface specific parameters. For Ethernet interfaces this parameter may be a pointer to a buffer containing the 6 byte long MAC address. This will override the MAC address stored in the non-volatile configuration memory. If this memory is uninitialized or not available, the MAC address must be specified. For PPP interfaces this parameter is ignored and should be set to zero. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ip_addr</em>&nbsp;</td><td>Specified IP address in network byte order. This must be a unique address within the Internet. If you do not directly communicate with other Internet hosts, you can use a locally assigned address. With PPP interfaces this may be set to 0.0.0.0, in which case the remote peer will be queried for an IP address. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ip_mask</em>&nbsp;</td><td>Specified IP network mask in network byte order. Typical Ethernet networks use 255.255.255.0, which allows upto 254 hosts. For PPP interfaces 255.255.255.255 is the default.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, -1 otherwise.</dd></dl>
<dl compact><dt><b>Note:</b></dt><dd>The whole interface configuration has become a mess over the years and need a major redesign.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga7"></a><!-- doxytag: member="ifconfig.c::NutNetIfConfig2" ref="ga7" args="(CONST char *name, void *params, u_long ip_addr, u_long ip_mask, u_long gateway)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int NutNetIfConfig2           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">CONST char *&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>params</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="group__xgNutOS.html#ga3">u_long</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ip_addr</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="group__xgNutOS.html#ga3">u_long</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ip_mask</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="group__xgNutOS.html#ga3">u_long</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>gateway</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Configure a network interface including the default gateway. 
<p>
Devices must have been registered by <a class="el" href="group__xgDevice.html#ga7">NutRegisterDevice()</a> before calling this function.<p>
For Ethernet devices applications may alternatively call <a class="el" href="pro_2dhcp_8h.html#a17">NutDhcpIfConfig()</a>, which allows automatic configuration by DHCP or the so called ARP method.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>Name of the device to configure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>params</em>&nbsp;</td><td>Pointer to interface specific parameters. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ip_addr</em>&nbsp;</td><td>Specified IP address in network byte order. This must be a unique address within the Internet. If you do not directly communicate with other Internet hosts, you can use a locally assigned address. With PPP interfaces this may be set to 0.0.0.0, in which case the remote peer will be queried for an IP address. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ip_mask</em>&nbsp;</td><td>Specified IP network mask in network byte order. Typical Ethernet networks use 255.255.255.0, which allows upto 254 hosts. For PPP interfaces 255.255.255.255 is the default. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>gateway</em>&nbsp;</td><td>Specified IP address of gateway or next router in LAN.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, -1 otherwise.</dd></dl>
<dl compact><dt><b>Note:</b></dt><dd>I do not like this function, because setting a gateway should be handled by <a class="el" href="group__xgIP.html#ga16">NutIpRouteAdd()</a>. It's not yet deprecated, but I recommend not to use it in application code.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga8"></a><!-- doxytag: member="inet.c::inet_addr" ref="ga8" args="(CONST char *str)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__xgNutOS.html#ga3">u_long</a> inet_addr           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">CONST char *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>str</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Convert decimal dotted ASCII representation into numeric IP address. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>str</em>&nbsp;</td><td>String containing the ASCII representation.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>IP address in network byte order.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga9"></a><!-- doxytag: member="inet.c::inet_ntoa" ref="ga9" args="(u_long addr)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">char* inet_ntoa           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__xgNutOS.html#ga3">u_long</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>addr</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Convert numeric IP address into decimal dotted ASCII representation. 
<p>
<dl compact><dt><b>Note:</b></dt><dd>This function is not thread safe. Each subsequent call will destroy the previous result. Applications should locally store the result before calling the function again or allowing other threads to call it.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>addr</em>&nbsp;</td><td>IP address in network byte order.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Pointer to a static buffer containing the ASCII representation.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga10"></a><!-- doxytag: member="ipcsum.c::NutIpChkSumPartial" ref="ga10" args="(u_short ics, CONST void *buf, size_t len)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__xgNutOS.html#ga1">u_short</a> NutIpChkSumPartial           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__xgNutOS.html#ga1">u_short</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ics</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>CONST void *&nbsp;</td>
          <td class="mdname" nowrap> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>len</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Calculate a partial IP checksum of a buffer. 
<p>
The caller must create the one's complement of the final result.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ics</em>&nbsp;</td><td>Initial checksum from previous parts. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buf</em>&nbsp;</td><td>Pointer to the buffer. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>len</em>&nbsp;</td><td>Number of bytes in the buffer.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Partial checksum in network byte order.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga11"></a><!-- doxytag: member="ipcsum.c::NutIpChkSum" ref="ga11" args="(u_short ics, CONST void *buf, size_t len)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__xgNutOS.html#ga1">u_short</a> NutIpChkSum           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__xgNutOS.html#ga1">u_short</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ics</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>CONST void *&nbsp;</td>
          <td class="mdname" nowrap> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>len</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Calculates an the final IP checksum over a block of data. 
<p>
Unlike the partial checksum in <a class="el" href="group__xgIP.html#ga10">NutIpChkSumPartial()</a>, this function takes the one's complement of the final result, thus making it the full checksum.    </td>
  </tr>
</table>
<a class="anchor" name="ga13"></a><!-- doxytag: member="ipin.c::NutIpSetInputFilter" ref="ga13" args="(NutIpFilterFunc callbackFunc)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void NutIpSetInputFilter           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">NutIpFilterFunc&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>callbackFunc</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set filter function for incoming IP datagrams. 
<p>
The callbackFunc is called by the IP layer on every incoming IP datagram. Thus it must not block. The implementer returns 0 for allow, -1 for deny.<p>
It is recommended to set the filer after DHCP has done its thing, just in case your DHCP server is on a different subnet for example.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>callbackFunc</em>&nbsp;</td><td>Pointer to callback function to filter IP packets. Set to 0 to disable the filter again.</td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga14"></a><!-- doxytag: member="ipin.c::NutIpInput" ref="ga14" args="(NUTDEVICE *dev, NETBUF *nb)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void NutIpInput           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct__NUTDEVICE.html">NUTDEVICE</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="struct__NETBUF.html">NETBUF</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>nb</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Process incoming IP datagrams. 
<p>
Datagrams addressed to other destinations and datagrams whose version number is not 4 are silently discarded.<p>
<dl compact><dt><b>Note:</b></dt><dd>This routine is called by the Ethernet layer on incoming IP datagrams. Applications typically do not call this function.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>Identifies the device that received this datagram. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nb</em>&nbsp;</td><td>The network buffer received.</td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga15"></a><!-- doxytag: member="ipout.c::NutIpOutput" ref="ga15" args="(u_char proto, u_long dest, NETBUF *nb)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int NutIpOutput           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">u_char&nbsp;</td>
          <td class="mdname" nowrap> <em>proto</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="group__xgNutOS.html#ga3">u_long</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>dest</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="struct__NETBUF.html">NETBUF</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>nb</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Send IP datagram. 
<p>
Route an IP datagram to the proper interface.<p>
The function will not return until the data has been stored in the network device hardware for transmission. If the device is not ready for transmitting a new packet, the calling thread will be suspended until the device becomes ready again. If the hardware address of the target host needs to be resolved the function will be suspended too.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>proto</em>&nbsp;</td><td>Protocol type. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dest</em>&nbsp;</td><td>Destination IP address. The function will determine the proper network interface by checking the routing table. It will also perform any neccessary hardware address resolution. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nb</em>&nbsp;</td><td>Network buffer structure containing the datagram. This buffer will be released if the function returns an error.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, -1 otherwise.</dd></dl>
<dl compact><dt><b><a class="el" href="bug.html#_bug000006">Bug:</a></b></dt><dd>Broadcasts to multiple network devices will fail after the first device returns an error. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga16"></a><!-- doxytag: member="route.c::NutIpRouteAdd" ref="ga16" args="(u_long ip, u_long mask, u_long gate, NUTDEVICE *dev)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int NutIpRouteAdd           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__xgNutOS.html#ga3">u_long</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ip</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="group__xgNutOS.html#ga3">u_long</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>mask</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="group__xgNutOS.html#ga3">u_long</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>gate</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="struct__NUTDEVICE.html">NUTDEVICE</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>dev</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Add a new entry to the IP routing table. 
<p>
Note, that there is currently no support for detecting duplicates. Anyway, newer entries will be found first, because they are inserted in front of older entries. However, this works only for equal masks, i.e. new network routes will never overwrite old host routes.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ip</em>&nbsp;</td><td>Network or host IP address to be routed. Set 0 for default route. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mask</em>&nbsp;</td><td>Mask for this entry. -1 for host routes, 0 for default or net mask for net routes. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>gate</em>&nbsp;</td><td>Route through this gateway, otherwise 0. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>Network interface to use.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, -1 otherwise.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga17"></a><!-- doxytag: member="route.c::NutIpRouteDelAll" ref="ga17" args="(NUTDEVICE *dev)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int NutIpRouteDelAll           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct__NUTDEVICE.html">NUTDEVICE</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>dev</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Delete all route table entries for the given device. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>Pointer to the device. If NULL, it deletes all route table entries.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, -1 otherwise.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga18"></a><!-- doxytag: member="route.c::NutIpRouteDel" ref="ga18" args="(u_long ip, u_long mask, u_long gate, NUTDEVICE *dev)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int NutIpRouteDel           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__xgNutOS.html#ga3">u_long</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ip</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="group__xgNutOS.html#ga3">u_long</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>mask</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="group__xgNutOS.html#ga3">u_long</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>gate</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="struct__NUTDEVICE.html">NUTDEVICE</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>dev</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Delete the specified route table entry. 
<p>
All fields must exactly match an existing entry.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ip</em>&nbsp;</td><td>Network or host IP address of the route entry. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mask</em>&nbsp;</td><td>Mask for this entry. -1 for host routes, 0 for default or net mask for net routes. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>gate</em>&nbsp;</td><td>Route through this gateway, 0 for default gate. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>Network interface to use.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, -1 otherwise.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga19"></a><!-- doxytag: member="route.c::NutIpRouteList" ref="ga19" args="(int *numEntries)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="struct__RTENTRY.html">RTENTRY</a>* NutIpRouteList           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>numEntries</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return an array of RTENTRY structures which contain all the current route table entries. 
<p>
The calling function is responsible for deleting the array.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>numEntries</em>&nbsp;</td><td>Points to an integer, which receives the length of the array.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Pointer to the array. Will be NULL in case of an error.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga21"></a><!-- doxytag: member="route.c::NutIpRouteQuery" ref="ga21" args="(u_long ip, u_long *gate)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="struct__NUTDEVICE.html">NUTDEVICE</a>* NutIpRouteQuery           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__xgNutOS.html#ga3">u_long</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ip</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="group__xgNutOS.html#ga3">u_long</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>gate</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Find a device associated with a particular IP route. 
<p>
Gateway routes will be automatically resolved up to four levels of redirection.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ip</em>&nbsp;</td><td>IP address to find a route for, given in network byte order. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>gate</em>&nbsp;</td><td>Points to a buffer which optionally receives the IP address of a gateway. The pointer may be NULL, if the caller is not interested in this information.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Pointer to the interface structure or NULL if no route was found.</dd></dl>
    </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="ga4"></a><!-- doxytag: member="route.c::rteList" ref="ga4" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="struct__RTENTRY.html">RTENTRY</a>* <a class="el" href="group__xgIP.html#ga4">rteList</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Linked list of routing entries.     </td>
  </tr>
</table>
<hr>
<address>
  <small>
    &copy;&nbsp;2000-2006 by egnite Software GmbH - 
    visit <a href="http://www.ethernut.de/">http://www.ethernut.de/</a>
  </small>
</address>
</body>
</html>
