<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
    <title>Nut/OS API</title>
    <link href="nut_en.css" rel="stylesheet" type="text/css">
</head>
<body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.4.4 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a> | <a class="qindex" href="examples.html">Examples</a></div>
<div class="nav">
<a class="el" href="dir_000000.html">ethernut-4.3.3</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_000001.html">nut</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_000052.html">pro</a></div>
<h1>ftpd.c File Reference</h1><hr><a name="_details"></a><h2>Detailed Description</h2>
FTP server. 
<p>
<div class="fragment"><pre class="fragment"> *
 * $Log: ftpd.c,v $
 * Revision 1.8  2006/10/08 16:48:22  haraldkipp
 * Documentation fixed
 *
 * Revision 1.7  2006/03/16 15:25:38  haraldkipp
 * Changed human readable strings from u_char to char to stop GCC 4 from
 * nagging about signedness.
 *
 * Revision 1.6  2006/02/23 15:48:08  haraldkipp
 * Added missing file truncation flag for overriding existing files.
 *
 * Revision 1.5  2006/01/25 18:47:42  haraldkipp
 * Fixes wrong implementation of readdir() and simplifies the code.
 * Thanks to Jesper Hansen.
 *
 * Revision 1.4  2006/01/22 17:45:29  haraldkipp
 * CreateFullPathName() partly returned double slashes or empty paths.
 *
 * Revision 1.3  2005/08/02 17:47:04  haraldkipp
 * Major API documentation update.
 *
 * Revision 1.2  2005/02/07 18:57:51  haraldkipp
 * ICCAVR compile errors fixed
 *
 * Revision 1.1  2005/02/05 20:45:38  haraldkipp
 * First release.
 *
 *
 * </pre></div>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>FTP Server Configuration</h2></td></tr>
<tr><td colspan="2">The Nut/OS Configurator may be used to override the default values. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a0"></a><!-- doxytag: member="ftpd.c::FTP_ROOTPATH" ref="a0" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftpd_8c.html#a0">FTP_ROOTPATH</a>&nbsp;&nbsp;&nbsp;&quot;PNUT:&quot;</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Default FTP root path. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a1"></a><!-- doxytag: member="ftpd.c::FTP_DATA_PORT" ref="a1" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftpd_8c.html#a1">FTP_DATA_PORT</a>&nbsp;&nbsp;&nbsp;20</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Default data port. <br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftpd_8c.html#a29">NutFtpRespondOk</a> (<a class="el" href="structFTPSESSION.html">FTPSESSION</a> *session, int code)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send a positive response.  <a href="#a29"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftpd_8c.html#a30">NutFtpRespondBad</a> (<a class="el" href="structFTPSESSION.html">FTPSESSION</a> *session, int code)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send a negative response.  <a href="#a30"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftpd_8c.html#a31">NutFtpSendMode</a> (<a class="el" href="structFTPSESSION.html">FTPSESSION</a> *session, int binary)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send a response including the specified transfer mode.  <a href="#a31"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftpd_8c.html#a32">CreateFullPathName</a> (char *root, char *work, char *path)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create an absolute path name.  <a href="#a32"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structtcp__socket.html">TCPSOCKET</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftpd_8c.html#a33">NutFtpDataConnect</a> (<a class="el" href="structFTPSESSION.html">FTPSESSION</a> *session)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Establish an FTP connection for data transfer.  <a href="#a33"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftpd_8c.html#a34">NutRegisterFtpRoot</a> (CONST char *path)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Register the FTP server's root directory.  <a href="#a34"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftpd_8c.html#a35">NutRegisterFtpUser</a> (CONST char *user, CONST char *pass)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Register an FTP user.  <a href="#a35"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structFTPSESSION.html">FTPSESSION</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftpd_8c.html#a36">NutFtpOpenSession</a> (<a class="el" href="structtcp__socket.html">TCPSOCKET</a> *sock)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Open an FTP server session.  <a href="#a36"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftpd_8c.html#a37">NutFtpCloseSession</a> (<a class="el" href="structFTPSESSION.html">FTPSESSION</a> *session)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Close an FTP server session.  <a href="#a37"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftpd_8c.html#a38">NutFtpProcessCwd</a> (<a class="el" href="structFTPSESSION.html">FTPSESSION</a> *session, char *path)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process an FTP client's CWD command.  <a href="#a38"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftpd_8c.html#a39">NutFtpProcessDelete</a> (<a class="el" href="structFTPSESSION.html">FTPSESSION</a> *session, char *path)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process an FTP client's DELE command.  <a href="#a39"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftpd_8c.html#a40">NutFtpTransferFile</a> (<a class="el" href="structFTPSESSION.html">FTPSESSION</a> *session, char *path, int mode)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Transfer a file to or from the FTP client.  <a href="#a40"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftpd_8c.html#a41">NutFtpTransferDirectory</a> (<a class="el" href="structFTPSESSION.html">FTPSESSION</a> *session, char *path)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process an FTP client's LIST or NLST command.  <a href="#a41"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftpd_8c.html#a42">NutFtpProcessMkd</a> (<a class="el" href="structFTPSESSION.html">FTPSESSION</a> *session, char *path)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process an FTP client's MKD command.  <a href="#a42"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftpd_8c.html#a43">NutFtpProcessPass</a> (<a class="el" href="structFTPSESSION.html">FTPSESSION</a> *session, char *pass)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process an FTP client's PASS command.  <a href="#a43"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftpd_8c.html#a44">NutFtpProcessPassiv</a> (<a class="el" href="structFTPSESSION.html">FTPSESSION</a> *session)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process an FTP client's PASV command.  <a href="#a44"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftpd_8c.html#a45">NutFtpProcessPort</a> (<a class="el" href="structFTPSESSION.html">FTPSESSION</a> *session, char *args)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process an FTP client's PORT command.  <a href="#a45"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftpd_8c.html#a46">NutFtpProcessPwd</a> (<a class="el" href="structFTPSESSION.html">FTPSESSION</a> *session)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process an FTP client's PWD command.  <a href="#a46"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftpd_8c.html#a47">NutFtpProcessRmd</a> (<a class="el" href="structFTPSESSION.html">FTPSESSION</a> *session, char *path)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process an FTP client's RMD command.  <a href="#a47"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftpd_8c.html#a48">NutFtpProcessSystem</a> (<a class="el" href="structFTPSESSION.html">FTPSESSION</a> *session)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process an FTP client's SYST command.  <a href="#a48"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftpd_8c.html#a49">NutFtpProcessType</a> (<a class="el" href="structFTPSESSION.html">FTPSESSION</a> *session, char *typecode)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process an FTP client's TYPE command.  <a href="#a49"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftpd_8c.html#a50">NutFtpProcessUser</a> (<a class="el" href="structFTPSESSION.html">FTPSESSION</a> *session, char *user)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process an FTP client's USER command.  <a href="#a50"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftpd_8c.html#a51">NutFtpProcessRequest</a> (<a class="el" href="structFTPSESSION.html">FTPSESSION</a> *session, char *request)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process an FTP request.  <a href="#a51"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftpd_8c.html#a52">NutFtpServerSession</a> (<a class="el" href="structtcp__socket.html">TCPSOCKET</a> *sock)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process an FTP sever session.  <a href="#a52"></a><br></td></tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a29"></a><!-- doxytag: member="ftpd.c::NutFtpRespondOk" ref="a29" args="(FTPSESSION *session, int code)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int NutFtpRespondOk           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structFTPSESSION.html">FTPSESSION</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>code</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Send a positive response. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>Pointer to an <a class="el" href="structFTPSESSION.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="ftpd_8c.html#a36">NutFtpOpenSession()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>code</em>&nbsp;</td><td>Response code.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>-1 if the session ended. Otherwise 0 is returned.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a30"></a><!-- doxytag: member="ftpd.c::NutFtpRespondBad" ref="a30" args="(FTPSESSION *session, int code)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int NutFtpRespondBad           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structFTPSESSION.html">FTPSESSION</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>code</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Send a negative response. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>Pointer to an <a class="el" href="structFTPSESSION.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="ftpd_8c.html#a36">NutFtpOpenSession()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>code</em>&nbsp;</td><td>Response code.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>-1 if the session ended. Otherwise 0 is returned.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a31"></a><!-- doxytag: member="ftpd.c::NutFtpSendMode" ref="a31" args="(FTPSESSION *session, int binary)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int NutFtpSendMode           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structFTPSESSION.html">FTPSESSION</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>binary</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Send a response including the specified transfer mode. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>Pointer to an <a class="el" href="structFTPSESSION.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="ftpd_8c.html#a36">NutFtpOpenSession()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>binary</em>&nbsp;</td><td>0 indicates ASCII transfer mode.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>-1 if the session ended. Otherwise 0 is returned.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a32"></a><!-- doxytag: member="ftpd.c::CreateFullPathName" ref="a32" args="(char *root, char *work, char *path)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">char* CreateFullPathName           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname" nowrap> <em>root</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>work</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>path</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Create an absolute path name. 
<p>
Combines an absolute directory path with a relative path name to a full absolute path name. The absolute directory is split into two parts, the root and the current work directory. The resulting path will never be above the specified root.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>root</em>&nbsp;</td><td>Non-empty absolute root directory path including the device name, but without a trailing slash. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>work</em>&nbsp;</td><td>Absolute work directory path below root including a leading, but without a trailing slash. This path is ignored if the relative path starts with a slash. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>Relative path name of a file or directory without any trailing slash.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Pointer to the resulting path name. The buffer for this name is allocated from heap memory. The caller is responsible for freeing it. In case of an error, a NULL pointer is returned.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a33"></a><!-- doxytag: member="ftpd.c::NutFtpDataConnect" ref="a33" args="(FTPSESSION *session)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="structtcp__socket.html">TCPSOCKET</a>* NutFtpDataConnect           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structFTPSESSION.html">FTPSESSION</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>session</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Establish an FTP connection for data transfer. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>Pointer to an <a class="el" href="structFTPSESSION.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="ftpd_8c.html#a36">NutFtpOpenSession()</a>.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Socket descriptor of the newly created data connection or 0 if we were unable to establish the connection.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a34"></a><!-- doxytag: member="ftpd.c::NutRegisterFtpRoot" ref="a34" args="(CONST char *path)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int NutRegisterFtpRoot           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">CONST char *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>path</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Register the FTP server's root directory. 
<p>
Only one root directory is supported. Subsequent calls will override previous settings.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>Path name of the root directory. Must include the device name followed by a colon followed by an absolute directory path. May be set to NULL for the default <a class="el" href="ftpd_8c.html#a0">FTP_ROOTPATH</a>.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, -1 otherwise.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a35"></a><!-- doxytag: member="ftpd.c::NutRegisterFtpUser" ref="a35" args="(CONST char *user, CONST char *pass)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int NutRegisterFtpUser           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">CONST char *&nbsp;</td>
          <td class="mdname" nowrap> <em>user</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>CONST char *&nbsp;</td>
          <td class="mdname" nowrap> <em>pass</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Register an FTP user. 
<p>
Only one username/password pair is supported. Subsequent calls will override previous settings.<p>
<dl compact><dt><b>Warning:</b></dt><dd>Not successfully registering any will make file systems accessible by anyone.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>user</em>&nbsp;</td><td>User's name. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pass</em>&nbsp;</td><td>Uncrypted password for the specified user.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success. -1 is returned on failures, in which case no protection may be assumed.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a36"></a><!-- doxytag: member="ftpd.c::NutFtpOpenSession" ref="a36" args="(TCPSOCKET *sock)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="structFTPSESSION.html">FTPSESSION</a>* NutFtpOpenSession           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structtcp__socket.html">TCPSOCKET</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>sock</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Open an FTP server session. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sock</em>&nbsp;</td><td>Socket of an established TCP connection.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Pointer to an <a class="el" href="structFTPSESSION.html">FTPSESSION</a> structure, which can be used in subsequent API calls. NULL is returned in case of any error.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a37"></a><!-- doxytag: member="ftpd.c::NutFtpCloseSession" ref="a37" args="(FTPSESSION *session)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void NutFtpCloseSession           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structFTPSESSION.html">FTPSESSION</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>session</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Close an FTP server session. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>Pointer to an <a class="el" href="structFTPSESSION.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="ftpd_8c.html#a36">NutFtpOpenSession()</a>.</td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a38"></a><!-- doxytag: member="ftpd.c::NutFtpProcessCwd" ref="a38" args="(FTPSESSION *session, char *path)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int NutFtpProcessCwd           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structFTPSESSION.html">FTPSESSION</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>path</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Process an FTP client's CWD command. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>Pointer to an <a class="el" href="structFTPSESSION.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="ftpd_8c.html#a36">NutFtpOpenSession()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>Full absolute path name of the directory.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 if the command has been processed or -1 if the session has been aborted.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a39"></a><!-- doxytag: member="ftpd.c::NutFtpProcessDelete" ref="a39" args="(FTPSESSION *session, char *path)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int NutFtpProcessDelete           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structFTPSESSION.html">FTPSESSION</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>path</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Process an FTP client's DELE command. 
<p>
Causes the specified file to be deleted.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>Pointer to an <a class="el" href="structFTPSESSION.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="ftpd_8c.html#a36">NutFtpOpenSession()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>Full absolute path name of the file.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 if the command has been processed or -1 if the session has been aborted.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a40"></a><!-- doxytag: member="ftpd.c::NutFtpTransferFile" ref="a40" args="(FTPSESSION *session, char *path, int mode)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int NutFtpTransferFile           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structFTPSESSION.html">FTPSESSION</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>mode</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Transfer a file to or from the FTP client. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>Pointer to an <a class="el" href="structFTPSESSION.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="ftpd_8c.html#a36">NutFtpOpenSession()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>Full absolute path name of the file. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mode</em>&nbsp;</td><td>If set to zero, the server will accept the data transferred via the data connection and to store the data as a file. If the file exists, then its contents will be replaced by the data being transferred. A new file is created, if the file does not already exist. If this parameter is not equal zero, then the server will transfer a copy of the specified file.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 if the command has been processed or -1 if the session has been aborted.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a41"></a><!-- doxytag: member="ftpd.c::NutFtpTransferDirectory" ref="a41" args="(FTPSESSION *session, char *path)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int NutFtpTransferDirectory           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structFTPSESSION.html">FTPSESSION</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>path</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Process an FTP client's LIST or NLST command. 
<p>
Causes a directory listing to be sent to the client.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>Pointer to an <a class="el" href="structFTPSESSION.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="ftpd_8c.html#a36">NutFtpOpenSession()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>Full absolute path name of the directory.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 if the command has been processed or -1 if the session has been aborted.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a42"></a><!-- doxytag: member="ftpd.c::NutFtpProcessMkd" ref="a42" args="(FTPSESSION *session, char *path)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int NutFtpProcessMkd           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structFTPSESSION.html">FTPSESSION</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>path</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Process an FTP client's MKD command. 
<p>
Causes the specified directory to be created.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>Pointer to an <a class="el" href="structFTPSESSION.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="ftpd_8c.html#a36">NutFtpOpenSession()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>Full absolute path name of the directory.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 if the command has been processed or -1 if the session has been aborted.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a43"></a><!-- doxytag: member="ftpd.c::NutFtpProcessPass" ref="a43" args="(FTPSESSION *session, char *pass)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int NutFtpProcessPass           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structFTPSESSION.html">FTPSESSION</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>pass</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Process an FTP client's PASS command. 
<p>
Only one login per session is accepted.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>Pointer to an <a class="el" href="structFTPSESSION.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="ftpd_8c.html#a36">NutFtpOpenSession()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pass</em>&nbsp;</td><td>Password.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 if the command has been processed or -1 if the session has been aborted.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a44"></a><!-- doxytag: member="ftpd.c::NutFtpProcessPassiv" ref="a44" args="(FTPSESSION *session)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int NutFtpProcessPassiv           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structFTPSESSION.html">FTPSESSION</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>session</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Process an FTP client's PASV command. 
<p>
This command requests the server to listen on a data port and to wait for a connection rather than initiate one upon receipt of a transfer command.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>Pointer to an <a class="el" href="structFTPSESSION.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="ftpd_8c.html#a36">NutFtpOpenSession()</a>.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 if the command has been processed or -1 if the session has been aborted.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a45"></a><!-- doxytag: member="ftpd.c::NutFtpProcessPort" ref="a45" args="(FTPSESSION *session, char *args)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int NutFtpProcessPort           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structFTPSESSION.html">FTPSESSION</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>args</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Process an FTP client's PORT command. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>Pointer to an <a class="el" href="structFTPSESSION.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="ftpd_8c.html#a36">NutFtpOpenSession()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>args</em>&nbsp;</td><td>Command argument, which is the concatenation of the 32-bit internet host address and a 16-bit TCP port address. This address information is broken into 8-bit fields and the value of each field is transmitted as a decimal number.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 if the command has been processed or -1 if the session has been aborted.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a46"></a><!-- doxytag: member="ftpd.c::NutFtpProcessPwd" ref="a46" args="(FTPSESSION *session)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int NutFtpProcessPwd           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structFTPSESSION.html">FTPSESSION</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>session</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Process an FTP client's PWD command. 
<p>
Causes the name of the current working directory to be returned in the reply.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>Pointer to an <a class="el" href="structFTPSESSION.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="ftpd_8c.html#a36">NutFtpOpenSession()</a>.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 if the command has been processed or -1 if the session has been aborted.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a47"></a><!-- doxytag: member="ftpd.c::NutFtpProcessRmd" ref="a47" args="(FTPSESSION *session, char *path)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int NutFtpProcessRmd           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structFTPSESSION.html">FTPSESSION</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>path</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Process an FTP client's RMD command. 
<p>
Causes the specified directory to be removed.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>Pointer to an <a class="el" href="structFTPSESSION.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="ftpd_8c.html#a36">NutFtpOpenSession()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>Full absolute path name of the directory.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 if the command has been processed or -1 if the session has been aborted.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a48"></a><!-- doxytag: member="ftpd.c::NutFtpProcessSystem" ref="a48" args="(FTPSESSION *session)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int NutFtpProcessSystem           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structFTPSESSION.html">FTPSESSION</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>session</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Process an FTP client's SYST command. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>Pointer to an <a class="el" href="structFTPSESSION.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="ftpd_8c.html#a36">NutFtpOpenSession()</a>.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 if the command has been processed or -1 if the session has been aborted.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a49"></a><!-- doxytag: member="ftpd.c::NutFtpProcessType" ref="a49" args="(FTPSESSION *session, char *typecode)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int NutFtpProcessType           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structFTPSESSION.html">FTPSESSION</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>typecode</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Process an FTP client's TYPE command. 
<p>
The type is not fully checked. Any argument starting with the letters 'A' or 'a' will switch the transfer mode to ASCII. Otherwise binary mode is set.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>Pointer to an <a class="el" href="structFTPSESSION.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="ftpd_8c.html#a36">NutFtpOpenSession()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>typecode</em>&nbsp;</td><td>Command arguments.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 if the command has been processed or -1 if the session has been aborted.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a50"></a><!-- doxytag: member="ftpd.c::NutFtpProcessUser" ref="a50" args="(FTPSESSION *session, char *user)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int NutFtpProcessUser           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structFTPSESSION.html">FTPSESSION</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>user</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Process an FTP client's USER command. 
<p>
Only one login per session is accepted.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>Pointer to an <a class="el" href="structFTPSESSION.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="ftpd_8c.html#a36">NutFtpOpenSession()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>user</em>&nbsp;</td><td>User name.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 if the command has been processed or -1 if the session has been aborted.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a51"></a><!-- doxytag: member="ftpd.c::NutFtpProcessRequest" ref="a51" args="(FTPSESSION *session, char *request)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int NutFtpProcessRequest           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structFTPSESSION.html">FTPSESSION</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>request</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Process an FTP request. 
<p>
This routine implements the protocol interpreter of the FTP server.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>Pointer to an <a class="el" href="structFTPSESSION.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="ftpd_8c.html#a36">NutFtpOpenSession()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>request</em>&nbsp;</td><td>Request string.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>-1 if the session ended. Otherwise 0 is returned.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a52"></a><!-- doxytag: member="ftpd.c::NutFtpServerSession" ref="a52" args="(TCPSOCKET *sock)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int NutFtpServerSession           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structtcp__socket.html">TCPSOCKET</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>sock</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Process an FTP sever session. 
<p>
Processes FTP requests on an established connection with an FTP client. This routine completely implements an FTP server except TCP connect and disconnect.<p>
For file transfers, the same maximum segment size and timeouts as set for this socket will be used for the data connection.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sock</em>&nbsp;</td><td>Socket of an established TCP connection.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 if the session ended successfully or -1 if the session has been aborted.</dd></dl>
    </td>
  </tr>
</table>
<hr>
<address>
  <small>
    &copy;&nbsp;2000-2006 by egnite Software GmbH - 
    visit <a href="http://www.ethernut.de/">http://www.ethernut.de/</a>
  </small>
</address>
</body>
</html>
