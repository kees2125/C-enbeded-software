<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
    <title>Nut/OS API</title>
    <link href="nut_en.css" rel="stylesheet" type="text/css">
</head>
<body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.4.4 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a> | <a class="qindex" href="examples.html">Examples</a></div>
<div class="nav">
<a class="el" href="dir_000000.html">ethernut-4.3.3</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_000001.html">nut</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_000033.html">include</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_000047.html">fs</a></div>
<h1>phatdir.h File Reference</h1><hr><a name="_details"></a><h2>Detailed Description</h2>
PHAT file system. 
<p>
<div class="fragment"><pre class="fragment"> *
 * $Log: phatdir.h,v $
 * Revision 1.3  2006/10/08 16:42:56  haraldkipp
 * Not optimal, but simple and reliable exclusive access implemented.
 * Fixes bug #1486539. Furthermore, bug #1567790, which had been rejected,
 * had been reported correctly and is now fixed.
 *
 * Revision 1.2  2006/06/18 16:41:55  haraldkipp
 * Support for long filenames (VFAT) added.
 * New function PhatDirReleaseChain() simplifies code.
 * Static function PhatDirOpenParentPath() replaced by global
 * PhatDirOpenParent().
 * Added const attribute to path parameter of PhatDirOpen().
 *
 * Revision 1.1  2006/01/05 16:32:52  haraldkipp
 * First check-in.
 *
 *
 * </pre></div>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__PHATDIRENT.html">_PHATDIRENT</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Structure of a directory entry.  <a href="struct__PHATDIRENT.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__PHATXDIRENT.html">_PHATXDIRENT</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Structure of an extended directory entry.  <a href="struct__PHATXDIRENT.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><b>_PHATFIND</b></td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga20"></a><!-- doxytag: member="phatdir.h::PHAT_MAX_NAMELEN" ref="ga20" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgPhatDir.html#ga20">PHAT_MAX_NAMELEN</a>&nbsp;&nbsp;&nbsp;255</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Maximum length of a base file name. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga21"></a><!-- doxytag: member="phatdir.h::PHAT_REM_DIRENT" ref="ga21" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>PHAT_REM_DIRENT</b>&nbsp;&nbsp;&nbsp;0xE5</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga22"></a><!-- doxytag: member="phatdir.h::PHAT_REM_NAMENT" ref="ga22" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>PHAT_REM_NAMENT</b>&nbsp;&nbsp;&nbsp;0x05</td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="struct__PHATDIRENT.html">_PHATDIRENT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgPhatDir.html#ga0">PHATDIRENT</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Structure of a directory entry.  <a href="group__xgPhatDir.html#ga0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="struct__PHATXDIRENT.html">_PHATXDIRENT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgPhatDir.html#ga1">PHATXDIRENT</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Structure of an extended directory entry.  <a href="group__xgPhatDir.html#ga1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga2"></a><!-- doxytag: member="phatdir.h::PHATFIND" ref="ga2" args="" -->
typedef _PHATFIND&nbsp;</td><td class="memItemRight" valign="bottom"><b>PHATFIND</b></td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgPhatDir.html#ga7">PhatDirEntryCreate</a> (<a class="el" href="struct__NUTFILE.html">NUTFILE</a> *ndp, CONST char *name, int acc, <a class="el" href="struct__PHATDIRENT.html">PHATDIRENT</a> *<a class="el" href="structdirent.html">dirent</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new directory entry.  <a href="group__xgPhatDir.html#ga7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgPhatDir.html#ga8">PhatDirEntryUpdate</a> (<a class="el" href="struct__NUTFILE.html">NUTFILE</a> *ndp)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Update directory entry of an opened file or directory.  <a href="group__xgPhatDir.html#ga8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgPhatDir.html#ga13">PhatDirReleaseChain</a> (<a class="el" href="struct__NUTDEVICE.html">NUTDEVICE</a> *dev, <a class="el" href="struct__PHATDIRENT.html">PHATDIRENT</a> *dent)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Release a cluster chain of a specified directory entry.  <a href="group__xgPhatDir.html#ga13"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgPhatDir.html#ga14">PhatDirDelEntry</a> (<a class="el" href="struct__NUTDEVICE.html">NUTDEVICE</a> *dev, CONST char *path, <a class="el" href="group__xgNutOS.html#ga3">u_long</a> flags)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Remove a directory entry.  <a href="group__xgPhatDir.html#ga14"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgPhatDir.html#ga12">PhatDirRenameEntry</a> (<a class="el" href="struct__NUTDEVICE.html">NUTDEVICE</a> *dev, CONST char *old_path, CONST char *new_path)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Rename file.  <a href="group__xgPhatDir.html#ga12"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct__NUTFILE.html">NUTFILE</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgPhatDir.html#ga15">PhatDirOpen</a> (<a class="el" href="struct__NUTDEVICE.html">NUTDEVICE</a> *dev, CONST char *dpath)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Open a directory.  <a href="group__xgPhatDir.html#ga15"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct__NUTFILE.html">NUTFILE</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgPhatDir.html#ga11">PhatDirOpenParent</a> (<a class="el" href="struct__NUTDEVICE.html">NUTDEVICE</a> *dev, CONST char *path, CONST char **basename)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Open parent directory of a given path.  <a href="group__xgPhatDir.html#ga11"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgPhatDir.html#ga10">PhatDirEntryFind</a> (<a class="el" href="struct__NUTFILE.html">NUTFILE</a> *nfp, CONST char *spec, <a class="el" href="group__xgNutOS.html#ga3">u_long</a> flags, PHATFIND *srch)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Find a directory entry with a specified name.  <a href="group__xgPhatDir.html#ga10"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgPhatDir.html#ga16">PhatDirRead</a> (<a class="el" href="struct__dirdesc.html">DIR</a> *dir)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read the next directory entry.  <a href="group__xgPhatDir.html#ga16"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgPhatDir.html#ga17">PhatDirCreate</a> (<a class="el" href="struct__NUTDEVICE.html">NUTDEVICE</a> *dev, char *path)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new subdirectory.  <a href="group__xgPhatDir.html#ga17"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgPhatDir.html#ga18">PhatDirRemove</a> (<a class="el" href="struct__NUTDEVICE.html">NUTDEVICE</a> *dev, char *path)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Remove a specified subdirectory.  <a href="group__xgPhatDir.html#ga18"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgPhatDir.html#ga19">PhatDirEntryStatus</a> (<a class="el" href="struct__NUTDEVICE.html">NUTDEVICE</a> *dev, CONST char *path, struct <a class="el" href="structstat.html">stat</a> *s)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieve status of a specified file.  <a href="group__xgPhatDir.html#ga19"></a><br></td></tr>
</table>
<hr>
<address>
  <small>
    &copy;&nbsp;2000-2006 by egnite Software GmbH - 
    visit <a href="http://www.ethernut.de/">http://www.ethernut.de/</a>
  </small>
</address>
</body>
</html>
