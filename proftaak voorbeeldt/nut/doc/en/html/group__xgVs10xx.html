<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
    <title>Nut/OS API</title>
    <link href="nut_en.css" rel="stylesheet" type="text/css">
</head>
<body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.4.4 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a> | <a class="qindex" href="examples.html">Examples</a></div>
<h1>XgVs10xx</h1>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga24"></a><!-- doxytag: member="xgVs10xx::VS_OPCODE_READ" ref="ga24" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>VS_OPCODE_READ</b>&nbsp;&nbsp;&nbsp;3</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga25"></a><!-- doxytag: member="xgVs10xx::VS_OPCODE_WRITE" ref="ga25" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>VS_OPCODE_WRITE</b>&nbsp;&nbsp;&nbsp;2</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga26"></a><!-- doxytag: member="xgVs10xx::AUDIO_VS1001K" ref="ga26" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>AUDIO_VS1001K</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga27"></a><!-- doxytag: member="xgVs10xx::VS10XX_FREQ" ref="ga27" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgVs10xx.html#ga27">VS10XX_FREQ</a>&nbsp;&nbsp;&nbsp;12288000UL</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Decoder crystal frequency. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga28"></a><!-- doxytag: member="xgVs10xx::VS10XX_HWRST_DURATION" ref="ga28" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgVs10xx.html#ga28">VS10XX_HWRST_DURATION</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Minimum time in milliseconds to held hardware reset low. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga29"></a><!-- doxytag: member="xgVs10xx::VS10XX_HWRST_RECOVER" ref="ga29" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgVs10xx.html#ga29">VS10XX_HWRST_RECOVER</a>&nbsp;&nbsp;&nbsp;4</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Milliseconds to wait after hardware reset. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga30"></a><!-- doxytag: member="xgVs10xx::VS10XX_SWRST_RECOVER" ref="ga30" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgVs10xx.html#ga30">VS10XX_SWRST_RECOVER</a>&nbsp;&nbsp;&nbsp;2</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Milliseconds to wait after software reset. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga31"></a><!-- doxytag: member="xgVs10xx::VS10XX_SCI_MODE" ref="ga31" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>VS10XX_SCI_MODE</b>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga32"></a><!-- doxytag: member="xgVs10xx::VS10XX_SCI_RATE" ref="ga32" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>VS10XX_SCI_RATE</b>&nbsp;&nbsp;&nbsp;(VS10XX_FREQ / 4)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga33"></a><!-- doxytag: member="xgVs10xx::VS10XX_SDI_MODE" ref="ga33" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>VS10XX_SDI_MODE</b>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga34"></a><!-- doxytag: member="xgVs10xx::VS10XX_SDI_RATE" ref="ga34" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>VS10XX_SDI_RATE</b>&nbsp;&nbsp;&nbsp;(VS10XX_FREQ / 4)</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">ureg_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgVs10xx.html#ga3">VsPlayerInterrupts</a> (ureg_t enable)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enable or disable player interrupts.  <a href="#ga3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">ureg_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgVs10xx.html#ga4">VsPlayerThrottle</a> (ureg_t on)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Throttle decoder activity.  <a href="#ga4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgVs10xx.html#ga12">VsPlayerKick</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Start playback.  <a href="#ga12"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgVs10xx.html#ga13">VsPlayerStop</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Stops the playback.  <a href="#ga13"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgVs10xx.html#ga14">VsPlayerFlush</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets up decoder internal buffer flushing.  <a href="#ga14"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgVs10xx.html#ga15">VsPlayerInit</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize the VS1001 hardware interface.  <a href="#ga15"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgVs10xx.html#ga16">VsPlayerReset</a> (<a class="el" href="group__xgNutOS.html#ga1">u_short</a> mode)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Software reset the decoder.  <a href="#ga16"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgVs10xx.html#ga17">VsPlayerSetMode</a> (<a class="el" href="group__xgNutOS.html#ga1">u_short</a> mode)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set mode register of the decoder.  <a href="#ga17"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__xgNutOS.html#ga1">u_short</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgVs10xx.html#ga18">VsPlayTime</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns play time since last reset.  <a href="#ga18"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__xgNutOS.html#ga2">u_int</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgVs10xx.html#ga19">VsGetStatus</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns status of the player.  <a href="#ga19"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgVs10xx.html#ga20">VsGetHeaderInfo</a> (VS_HEADERINFO *vshi)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Query MP3 stream header information.  <a href="#ga20"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__xgNutOS.html#ga1">u_short</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgVs10xx.html#ga21">VsMemoryTest</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize decoder memory test and return result.  <a href="#ga21"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgVs10xx.html#ga22">VsSetVolume</a> (ureg_t left, ureg_t right)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set volume.  <a href="#ga22"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xgVs10xx.html#ga23">VsBeep</a> (u_char fsin, u_char ms)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sine wave beep.  <a href="#ga23"></a><br></td></tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="ga3"></a><!-- doxytag: member="vs10xx.c::VsPlayerInterrupts" ref="ga3" args="(ureg_t enable)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">ureg_t VsPlayerInterrupts           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">ureg_t&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>enable</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Enable or disable player interrupts. 
<p>
This routine is typically used by applications when dealing with unprotected buffers.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>enable</em>&nbsp;</td><td>Disables interrupts when zero. Otherwise interrupts are enabled.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Zero if interrupts were disabled before this call.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga4"></a><!-- doxytag: member="vs10xx.c::VsPlayerThrottle" ref="ga4" args="(ureg_t on)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">ureg_t VsPlayerThrottle           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">ureg_t&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>on</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Throttle decoder activity. 
<p>
When sharing SPI with other devices, this function should be called to disable (and re-enable) the SPI interface of the VS10XX.<p>
Decoder interrupts must have been disabled before calling this function.<p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;<a class="code" href="vs10xx_8h.html">dev/vs10xx.h</a>&gt;</span>

 ureg_t ief = <a class="code" href="group__xgVs1001.html#ga8">VsPlayerInterrupts</a>(0);
 ureg_t tef = <a class="code" href="group__xgVs10xx.html#ga4">VsPlayerThrottle</a>(1);
 ... use other SPI devices here ...
 <a class="code" href="group__xgVs10xx.html#ga4">VsPlayerThrottle</a>(tef);
 <a class="code" href="group__xgVs1001.html#ga8">VsPlayerInterrupts</a>(ief);
</pre></div><p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>on</em>&nbsp;</td><td>Throttles (disables) the decoder interface if not zero. Otherwise the decoder interface is enabled again.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Zero if the interface was enabled before this call.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga12"></a><!-- doxytag: member="vs10xx.c::VsPlayerKick" ref="ga12" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int VsPlayerKick           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Start playback. 
<p>
This routine will send the first MP3 data bytes to the decoder, until it is completely filled. The data buffer should have been filled before calling this routine.<p>
Decoder interrupts will be enabled.<p>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, -1 otherwise.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga13"></a><!-- doxytag: member="vs10xx.c::VsPlayerStop" ref="ga13" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int VsPlayerStop           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Stops the playback. 
<p>
This routine will stops the MP3 playback, <a class="el" href="group__xgVs1001.html#ga5">VsPlayerKick()</a> may be used to resume the playback.<p>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, -1 otherwise.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga14"></a><!-- doxytag: member="vs10xx.c::VsPlayerFlush" ref="ga14" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int VsPlayerFlush           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sets up decoder internal buffer flushing. 
<p>
This routine will set up internal VS buffer flushing, unless the buffer is already empty and starts the playback if necessary. The internal VS buffer is flushed in VsPlayerFeed() at the end of the stream.<p>
Decoder interrupts will be enabled.<p>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, -1 otherwise.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga15"></a><!-- doxytag: member="vs10xx.c::VsPlayerInit" ref="ga15" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int VsPlayerInit           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initialize the VS1001 hardware interface. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, -1 otherwise.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga16"></a><!-- doxytag: member="vs10xx.c::VsPlayerReset" ref="ga16" args="(u_short mode)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int VsPlayerReset           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__xgNutOS.html#ga1">u_short</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>mode</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Software reset the decoder. 
<p>
This function is typically called after <a class="el" href="group__xgVs1001.html#ga2">VsPlayerInit()</a> and at the end of each track.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mode</em>&nbsp;</td><td>Any of the following flags may be or'ed (check the data sheet)<ul>
<li><a class="el" href="vs10xx_8h.html#a3">VS_SM_DIFF</a> Left channel inverted.</li><li><a class="el" href="vs10xx_8h.html#a4">VS_SM_LAYER12</a> Allow MPEG layers I and II.</li><li><a class="el" href="vs10xx_8h.html#a7">VS_SM_MP12</a> Allow MPEG layers I and II on VS1001K.</li><li><a class="el" href="vs10xx_8h.html#a5">VS_SM_FFWD</a> VS1001K fast forward.</li><li><a class="el" href="vs10xx_8h.html#a6">VS_SM_RESET</a> Software reset.</li><li><a class="el" href="vs10xx_8h.html#a8">VS_SM_OUTOFWAV</a> Jump out of WAV decoding.</li><li><a class="el" href="vs10xx_8h.html#a11">VS_SM_TESTS</a> Allow SDI tests.</li><li><a class="el" href="vs10xx_8h.html#a9">VS_SM_PDOWN</a> Switch to power down mode.</li><li><a class="el" href="vs10xx_8h.html#a14">VS_SM_BASS</a> VS1001K bass/treble enhancer.</li><li><a class="el" href="vs10xx_8h.html#a13">VS_SM_STREAM</a> Stream mode.</li><li><a class="el" href="vs10xx_8h.html#a19">VS_SM_SDISHARE</a> Share SPI chip select.</li><li><a class="el" href="vs10xx_8h.html#a21">VS_SM_SDINEW</a> VS1002 native mode (automatically set).</li><li><a class="el" href="vs10xx_8h.html#a22">VS_SM_ADPCM</a> VS1033 ADPCM recording.</li><li><a class="el" href="vs10xx_8h.html#a23">VS_SM_ADPCM_HP</a> VS1033 ADPCM high pass filter.</li><li><a class="el" href="vs10xx_8h.html#a24">VS_SM_LINE_IN</a> VS1033 ADPCM recording selector.</li><li><a class="el" href="vs10xx_8h.html#a25">VS_SM_CLK_RANGE</a> VS1033 input clock range.</li></ul>
</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, -1 otherwise.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga17"></a><!-- doxytag: member="vs10xx.c::VsPlayerSetMode" ref="ga17" args="(u_short mode)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int VsPlayerSetMode           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__xgNutOS.html#ga1">u_short</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>mode</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set mode register of the decoder. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mode</em>&nbsp;</td><td>Any of the following flags may be or'ed (check the data sheet)<ul>
<li><a class="el" href="vs10xx_8h.html#a3">VS_SM_DIFF</a> Left channel inverted.</li><li><a class="el" href="vs10xx_8h.html#a4">VS_SM_LAYER12</a> Allow MPEG layers I and II.</li><li><a class="el" href="vs10xx_8h.html#a7">VS_SM_MP12</a> Allow MPEG layers I and II on VS1001K.</li><li><a class="el" href="vs10xx_8h.html#a5">VS_SM_FFWD</a> VS1001K fast forward.</li><li><a class="el" href="vs10xx_8h.html#a6">VS_SM_RESET</a> Software reset.</li><li><a class="el" href="vs10xx_8h.html#a8">VS_SM_OUTOFWAV</a> Jump out of WAV decoding.</li><li><a class="el" href="vs10xx_8h.html#a11">VS_SM_TESTS</a> Allow SDI tests.</li><li><a class="el" href="vs10xx_8h.html#a9">VS_SM_PDOWN</a> Switch to power down mode.</li><li><a class="el" href="vs10xx_8h.html#a14">VS_SM_BASS</a> VS1001K bass/treble enhancer.</li><li><a class="el" href="vs10xx_8h.html#a13">VS_SM_STREAM</a> Stream mode.</li><li><a class="el" href="vs10xx_8h.html#a19">VS_SM_SDISHARE</a> Share SPI chip select.</li><li><a class="el" href="vs10xx_8h.html#a21">VS_SM_SDINEW</a> VS1002 native mode (automatically set).</li><li><a class="el" href="vs10xx_8h.html#a22">VS_SM_ADPCM</a> VS1033 ADPCM recording.</li><li><a class="el" href="vs10xx_8h.html#a23">VS_SM_ADPCM_HP</a> VS1033 ADPCM high pass filter.</li><li><a class="el" href="vs10xx_8h.html#a24">VS_SM_LINE_IN</a> VS1033 ADPCM recording selector.</li><li><a class="el" href="vs10xx_8h.html#a25">VS_SM_CLK_RANGE</a> VS1033 input clock range.</li></ul>
</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Always 0.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga18"></a><!-- doxytag: member="vs10xx.c::VsPlayTime" ref="ga18" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__xgNutOS.html#ga1">u_short</a> VsPlayTime           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns play time since last reset. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>Play time since reset in seconds</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga19"></a><!-- doxytag: member="vs10xx.c::VsGetStatus" ref="ga19" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__xgNutOS.html#ga2">u_int</a> VsGetStatus           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns status of the player. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>Any of the following value:<ul>
<li>VS_STATUS_STOPPED Player is ready to be started by <a class="el" href="group__xgVs1001.html#ga5">VsPlayerKick()</a>.</li><li>VS_STATUS_RUNNING Player is running.</li><li>VS_STATUS_EOF Player has reached the end of a stream after <a class="el" href="group__xgVs1001.html#ga7">VsPlayerFlush()</a> has been called.</li><li>VS_STATUS_EMPTY Player runs out of data. <a class="el" href="group__xgVs1001.html#ga5">VsPlayerKick()</a> will restart it.</li></ul>
</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga20"></a><!-- doxytag: member="vs10xx.c::VsGetHeaderInfo" ref="ga20" args="(VS_HEADERINFO *vshi)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int VsGetHeaderInfo           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">VS_HEADERINFO *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>vshi</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Query MP3 stream header information. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>vshi</em>&nbsp;</td><td>Pointer to VS_HEADERINFO structure.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, -1 otherwise.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga21"></a><!-- doxytag: member="vs10xx.c::VsMemoryTest" ref="ga21" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__xgNutOS.html#ga1">u_short</a> VsMemoryTest           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initialize decoder memory test and return result. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>Memory test result.<ul>
<li>Bit 0: Good X ROM</li><li>Bit 1: Good Y ROM (high)</li><li>Bit 2: Good Y ROM (low)</li><li>Bit 3: Good Y RAM</li><li>Bit 4: Good X RAM</li><li>Bit 5: Good Instruction RAM (high)</li><li>Bit 6: Good Instruction RAM (low)</li></ul>
</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga22"></a><!-- doxytag: member="vs10xx.c::VsSetVolume" ref="ga22" args="(ureg_t left, ureg_t right)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int VsSetVolume           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">ureg_t&nbsp;</td>
          <td class="mdname" nowrap> <em>left</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>ureg_t&nbsp;</td>
          <td class="mdname" nowrap> <em>right</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set volume. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>left</em>&nbsp;</td><td>Left channel attenuation, provided in 0.5 dB steps. Set to 255 for ananlog power down. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>right</em>&nbsp;</td><td>Right channel attenuation.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Always 0.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga23"></a><!-- doxytag: member="vs10xx.c::VsBeep" ref="ga23" args="(u_char fsin, u_char ms)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int VsBeep           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">u_char&nbsp;</td>
          <td class="mdname" nowrap> <em>fsin</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>u_char&nbsp;</td>
          <td class="mdname" nowrap> <em>ms</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sine wave beep. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fsin</em>&nbsp;</td><td>Frequency. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ms</em>&nbsp;</td><td>Duration.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Always 0.</dd></dl>
    </td>
  </tr>
</table>
<hr>
<address>
  <small>
    &copy;&nbsp;2000-2006 by egnite Software GmbH - 
    visit <a href="http://www.ethernut.de/">http://www.ethernut.de/</a>
  </small>
</address>
</body>
</html>
